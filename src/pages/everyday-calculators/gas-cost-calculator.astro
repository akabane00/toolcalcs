---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';
import '../../styles/calculator.css';

const structuredData = [
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://toolcalcs.com/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Everyday Calculators",
        "item": "https://toolcalcs.com/everyday-calculators/"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "Gas Cost Calculator"
      }
    ]
  },
  {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  mainEntity: [
    {
      '@type': 'Question',
      name: 'How do you calculate gas cost for a trip?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'To calculate gas cost for a trip, divide the total trip distance in miles by your vehicle\'s fuel efficiency in miles per gallon (MPG) to find gallons needed. Then multiply the gallons by the current price per gallon. For example, a 300-mile trip in a car that gets 25 MPG requires 12 gallons. At $3.50 per gallon, the fuel cost is $42.00.',
      },
    },
    {
      '@type': 'Question',
      name: 'What is the average MPG for a car in the United States?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'The average fuel economy for new passenger vehicles in the United States is approximately 25 to 27 MPG. However, this varies widely by vehicle type. Compact cars average 30 to 35 MPG, midsize sedans around 28 to 32 MPG, SUVs 22 to 28 MPG, and pickup trucks 18 to 24 MPG. Hybrid vehicles typically achieve 45 to 55 MPG.',
      },
    },
    {
      '@type': 'Question',
      name: 'How much CO2 does a gallon of gasoline produce?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'Burning one gallon of gasoline produces approximately 19.6 pounds (8.89 kilograms) of carbon dioxide (CO2). This figure comes from the EPA and accounts for the carbon content of the fuel. A car that gets 25 MPG and drives 12,000 miles per year produces about 9,408 pounds of CO2 annually from fuel combustion alone.',
      },
    },
  ],
},
];
---

<BaseLayout
  title="Gas Cost Calculator - Estimate Fuel Costs for Any Trip | ToolCalcs"
  description="Free gas cost calculator. Estimate fuel costs for any trip based on distance, MPG, and gas price. Calculate gallons needed, cost per mile, and CO2 emissions for road trips."
  type="article"
  structuredData={structuredData}
>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo;
    <a href="/everyday-calculators/">Everyday Calculators</a> &rsaquo;
    <span>Gas Cost Calculator</span>
  </nav>

  <h1>Gas Cost Calculator</h1>
  <p class="page-desc">Estimate fuel costs, gallons needed, cost per mile, and CO2 emissions for any trip.</p>

  <div class="calculator-box">
    <div class="calc-inputs">
      <div class="input-group">
        <label for="tripDistance">Trip Distance (miles)</label>
        <input type="number" id="tripDistance" value="300" min="0" step="1" />
      </div>
      <div class="input-group">
        <label for="fuelEfficiency">Fuel Efficiency (MPG)</label>
        <input type="number" id="fuelEfficiency" value="25" min="0.1" step="0.1" />
      </div>
      <div class="input-group">
        <label for="gasPrice">Gas Price per Gallon ($)</label>
        <input type="number" id="gasPrice" value="3.50" min="0" step="0.01" />
      </div>
    </div>

    <div class="checkbox-group">
      <label class="checkbox-label">
        <input type="checkbox" id="roundTrip" />
        <span>Round trip (double the distance)</span>
      </label>
    </div>

    <div class="calc-results">
      <div class="result-cards">
        <div class="result-card primary">
          <span class="result-label">Gallons Needed</span>
          <span class="result-value" id="gallonsNeeded">12.00</span>
        </div>
        <div class="result-card success">
          <span class="result-label">Total Fuel Cost</span>
          <span class="result-value" id="totalCost">$42.00</span>
        </div>
        <div class="result-card">
          <span class="result-label">Cost per Mile</span>
          <span class="result-value" id="costPerMile">$0.14</span>
        </div>
        <div class="result-card">
          <span class="result-label">CO2 Emissions (lbs)</span>
          <span class="result-value" id="co2Emissions">235.2</span>
        </div>
      </div>
    </div>
  </div>

  <AdUnit slot="calc-mid" format="rectangle" />

  <!-- SEO Content -->
  <article class="content-section">
    <h2>How to Calculate Gas Costs for a Trip</h2>
    <p>Knowing how much you will spend on fuel before you hit the road is one of the most practical budgeting skills for any driver. Whether you are planning a weekend getaway, a cross-country road trip, or simply estimating your daily commute costs, the gas cost formula is straightforward and easy to apply.</p>
    <p>The basic formula requires three pieces of information: the total distance of your trip in miles, your vehicle's fuel efficiency in miles per gallon (MPG), and the current price of gasoline per gallon. First, divide the trip distance by your MPG to determine how many gallons of fuel you will need. Then multiply that number by the price per gallon to get the total fuel cost.</p>
    <div class="formula-box">
      <code>Gallons Needed = Trip Distance &divide; MPG</code><br />
      <code>Total Fuel Cost = Gallons Needed &times; Price per Gallon</code><br />
      <code>Cost per Mile = Price per Gallon &divide; MPG</code>
    </div>
    <p>For example, suppose you are planning a 450-mile road trip in a car that gets 30 MPG, and gas costs $3.40 per gallon in your area. Divide 450 by 30 to get 15 gallons needed. Multiply 15 by $3.40 to find that your total fuel cost will be $51.00. The cost per mile is $3.40 divided by 30, which equals approximately $0.113 per mile.</p>
    <p>If you are making a round trip, simply double the distance before running the calculation. The 450-mile trip becomes 900 miles round trip. At 30 MPG, you would need 30 gallons, costing $102.00 at $3.40 per gallon. This doubling approach also works for estimating weekly commute costs: calculate the one-way distance to work, double it for the round trip, then multiply by 5 for a five-day workweek.</p>
    <p>Keep in mind that your actual fuel consumption may differ from the EPA-rated MPG for your vehicle. Real-world driving conditions, including highway versus city driving, traffic congestion, weather, and driving habits, all influence how much fuel your car actually uses. Most drivers find that their real-world MPG is 10% to 20% lower than the EPA combined rating, so adding a buffer to your fuel budget is a wise precaution.</p>

    <h2>Factors That Affect Fuel Economy</h2>
    <p>Your vehicle's fuel efficiency is not a fixed number. It fluctuates based on a wide range of factors, some of which you can control and others that are determined by external conditions. Understanding these variables helps you set realistic expectations for fuel costs and identify opportunities to save money at the pump.</p>
    <p><strong>Driving speed</strong> is one of the most significant factors affecting fuel economy. Most vehicles achieve their optimal fuel efficiency at speeds between 45 and 65 miles per hour. Above 65 MPH, aerodynamic drag increases exponentially, causing fuel consumption to rise sharply. According to the U.S. Department of Energy, every 5 MPH you drive over 50 MPH is roughly equivalent to paying an additional $0.20 to $0.30 per gallon of gas. Highway cruising at 80 MPH can reduce your fuel economy by 15% to 25% compared to driving at 60 MPH.</p>
    <p><strong>City versus highway driving</strong> produces dramatically different fuel economy numbers. City driving involves frequent stopping and starting, idling at traffic lights, and lower average speeds, all of which reduce MPG. Highway driving is more fuel-efficient because the engine operates at a steadier RPM and the vehicle maintains momentum. The EPA provides separate city and highway MPG ratings for every vehicle, and the combined rating is a weighted average of 55% city and 45% highway driving.</p>
    <p><strong>Vehicle weight and cargo</strong> directly impact fuel consumption. Every additional 100 pounds of weight in your vehicle reduces fuel economy by approximately 1% to 2%. If you are packing for a road trip, be mindful of heavy items that you do not actually need. Removing a roof rack or cargo box when not in use also helps, as these accessories increase aerodynamic drag and can reduce highway fuel economy by 2% to 8% for a roof rack alone and up to 25% for a large rooftop cargo box.</p>
    <p><strong>Tire pressure</strong> plays a surprisingly large role in fuel efficiency. Underinflated tires increase rolling resistance, forcing the engine to work harder. For every 1 PSI drop below the recommended tire pressure, fuel economy decreases by about 0.2%. Keeping your tires inflated to the manufacturer's recommended pressure, which is found on the sticker inside the driver's door jamb, can improve fuel economy by up to 3%.</p>
    <p><strong>Weather and temperature</strong> affect fuel economy in several ways. Cold weather reduces MPG because the engine takes longer to reach its optimal operating temperature, winter-grade gasoline contains slightly less energy per gallon, and heated accessories like defrosters and seat warmers draw power. Short trips in cold weather are especially inefficient because the engine spends most of the trip below its ideal temperature. Hot weather can also reduce efficiency if you rely heavily on air conditioning, which places an additional load on the engine and can reduce MPG by 5% to 25% depending on conditions.</p>
    <p><strong>Vehicle maintenance</strong> is critical for maintaining good fuel economy. A dirty air filter can reduce MPG by up to 10%. Old or fouled spark plugs, misaligned wheels, and low-quality engine oil all contribute to reduced efficiency. Regular maintenance, including oil changes, air filter replacement, and tune-ups, keeps your engine running at peak performance and your fuel costs as low as possible.</p>

    <h2>Tips to Improve Your MPG and Save on Gas</h2>
    <p>Improving your driving habits and vehicle maintenance can yield significant fuel savings over time. Even small changes, when applied consistently, compound into meaningful dollar amounts over months and years of driving.</p>
    <p><strong>Drive smoothly and avoid aggressive acceleration.</strong> Rapid acceleration and hard braking waste fuel. Accelerating gently from a stop and coasting to a halt instead of braking abruptly can improve fuel economy by 15% to 30% on the highway and 10% to 40% in city driving. Use cruise control on flat highway stretches to maintain a steady speed and avoid unnecessary speed fluctuations.</p>
    <p><strong>Reduce idling time.</strong> Idling gets zero miles per gallon. If you expect to be stopped for more than 30 seconds, such as waiting for a train or picking someone up, turn off your engine. Modern vehicles do not need extended warm-up periods; 30 seconds of idling is sufficient even in cold weather before driving gently to warm the engine.</p>
    <p><strong>Plan your route strategically.</strong> Use navigation apps that account for traffic conditions and suggest the most fuel-efficient route, which is not always the shortest distance. Avoiding stop-and-go traffic, road construction, and hilly terrain can save a surprising amount of fuel. Combining multiple errands into a single trip also reduces total mileage and avoids cold starts, which are less fuel-efficient.</p>
    <p><strong>Use the recommended grade of motor oil.</strong> Using the manufacturer-recommended grade of motor oil can improve fuel economy by 1% to 2%. Look for motor oil with the "Energy Conserving" label, which contains friction-reducing additives that help the engine operate more efficiently.</p>
    <p><strong>Keep your windows closed at highway speeds.</strong> Open windows at highway speeds create aerodynamic drag that increases fuel consumption. At speeds above 40 MPH, using the air conditioning is generally more fuel-efficient than driving with the windows down. At lower city speeds, opening the windows to avoid running the AC can save fuel.</p>
    <p><strong>Consider fuel price apps and loyalty programs.</strong> Gas prices can vary by $0.20 to $0.50 or more between stations in the same area. Apps like GasBuddy help you find the cheapest gas nearby. Many grocery store chains and warehouse clubs offer fuel discounts tied to loyalty programs, and some credit cards provide 2% to 5% cash back on gas purchases. Over a year of driving, these small per-gallon savings can add up to hundreds of dollars.</p>

    <h2>Gas Price Trends and What Drives Fuel Costs</h2>
    <p>Gasoline prices are influenced by a complex web of global and local factors. Understanding what drives fuel costs helps you anticipate price changes and time your fill-ups strategically.</p>
    <p><strong>Crude oil prices</strong> are the single largest component of the price you pay at the pump, typically accounting for 50% to 60% of the retail price of gasoline. Crude oil is a globally traded commodity, and its price is determined by supply and demand dynamics, geopolitical events, OPEC production decisions, and investor speculation. When crude oil prices rise due to supply disruptions, increased global demand, or geopolitical tensions, gas prices at the pump follow with a lag of about one to two weeks.</p>
    <p><strong>Refining costs</strong> account for approximately 15% to 20% of the retail gasoline price. Refineries convert crude oil into usable gasoline, and the cost of this process varies depending on the type of crude oil being refined, the complexity of the refinery, seasonal demand for different fuel blends, and the refinery's operating capacity. Seasonal fuel blend switches, mandatory maintenance shutdowns, and unexpected outages at major refineries can all cause temporary price spikes.</p>
    <p><strong>Taxes</strong> represent a significant portion of the price per gallon. The federal excise tax on gasoline is 18.4 cents per gallon, and state taxes vary widely, from around 15 cents per gallon in states like Alaska and Mississippi to over 60 cents per gallon in states like California and Pennsylvania. Some cities and counties impose additional local fuel taxes. Combined, taxes typically make up 15% to 25% of the retail price.</p>
    <p><strong>Seasonal patterns</strong> create predictable price fluctuations. Gas prices tend to rise in the spring as refineries switch from winter-blend to summer-blend gasoline, which is more expensive to produce but generates fewer emissions in hot weather. Prices typically peak in late May or June as summer driving season begins and demand surges. Prices generally decline in the fall as demand drops and refineries switch back to cheaper winter-blend fuel. Holiday weekends, particularly Memorial Day, Independence Day, and Labor Day, often see temporary price increases due to elevated demand.</p>
    <p><strong>Regional variations</strong> can be substantial. States with higher taxes, stricter fuel blend requirements, or limited refinery access tend to have higher gas prices. California consistently has some of the highest gas prices in the nation due to its unique clean-fuel standards, high state taxes, and geographic isolation from major refining centers. States in the Gulf Coast region, which is home to much of the nation's refining capacity, generally enjoy lower prices.</p>

    <h2>Road Trip Budgeting: Beyond Fuel Costs</h2>
    <p>While fuel is one of the most visible expenses of a road trip, a realistic travel budget should account for several other costs that add up quickly. Planning ahead for these expenses prevents unpleasant surprises and helps you enjoy your trip without financial stress.</p>
    <p><strong>Tolls</strong> can be a significant expense on certain routes, particularly in the northeastern United States and along major interstate corridors. A cross-country road trip from New York to Chicago can incur $30 to $60 or more in tolls depending on the exact route. Use a toll calculator or navigation app to estimate toll costs before your trip and decide whether an alternate toll-free route is worth the extra time and fuel.</p>
    <p><strong>Food and beverages</strong> are often the second-largest road trip expense after fuel. Eating at restaurants three times a day for a multi-day trip adds up rapidly. Packing a cooler with snacks, sandwiches, and drinks can save $20 to $40 per person per day compared to eating out for every meal. When you do eat out, fast-casual restaurants and local diners are typically more affordable than chain sit-down restaurants at highway rest stops.</p>
    <p><strong>Lodging</strong> is the biggest expense for multi-day trips. Hotel and motel prices vary dramatically by location and season, from $60 per night at a budget motel in a rural area to $200 or more at a hotel in a major city or tourist destination. Booking in advance, using hotel comparison websites, and considering alternatives like camping or staying with friends and family can significantly reduce accommodation costs.</p>
    <p><strong>Vehicle wear and tear</strong> is an often-overlooked cost of long-distance driving. The IRS standard mileage rate, which accounts for fuel, depreciation, insurance, maintenance, and repairs, was 67 cents per mile in 2024. While your actual per-mile cost depends on your specific vehicle, using a figure of $0.50 to $0.70 per mile provides a more complete picture of the true cost of a road trip than fuel cost alone.</p>
    <p><strong>Entertainment and activities</strong> at your destination add to the overall budget. National park entrance fees, museum admissions, tours, and other activities can range from free to over $100 per person depending on the destination. Researching free and low-cost attractions at your destination helps balance your budget between the journey and the experience.</p>

    <h2>Electric Vehicles vs. Gas Cars: A Cost Comparison</h2>
    <p>As electric vehicles (EVs) become more mainstream, many drivers are curious about how their fuel costs compare to traditional gasoline-powered cars. The comparison involves several factors beyond just the per-mile energy cost.</p>
    <p><strong>Energy cost per mile</strong> is where EVs have a clear advantage. The average cost to charge an EV is roughly $0.04 to $0.06 per mile when charging at home with average U.S. electricity rates of about $0.16 per kilowatt-hour. By comparison, a gasoline car averaging 25 MPG with gas at $3.50 per gallon costs about $0.14 per mile in fuel alone. This means an EV driver saves approximately $0.08 to $0.10 per mile, which translates to $960 to $1,200 in annual savings for someone driving 12,000 miles per year.</p>
    <p><strong>Charging infrastructure</strong> is an important consideration for long trips. While home charging is convenient and affordable for daily driving, road trips in an EV require planning around the public fast-charging network. DC fast chargers are more expensive than home charging, typically costing $0.30 to $0.60 per kilowatt-hour, which can bring the per-mile cost closer to that of a gasoline vehicle. Charging times of 20 to 45 minutes at fast chargers also add to travel time compared to a 5-minute gas station fill-up.</p>
    <p><strong>Purchase price and total cost of ownership</strong> complicate the comparison. EVs generally have higher upfront purchase prices than comparable gasoline vehicles, though federal and state tax credits can offset some of the difference. However, EVs have significantly lower maintenance costs because they have fewer moving parts, no oil changes, no transmission fluid, and regenerative braking that reduces brake pad wear. Over a five-year ownership period, the total cost of owning an EV can be lower than an equivalent gasoline car, even accounting for the higher purchase price.</p>
    <p><strong>Environmental impact</strong> is another dimension of the comparison. A gasoline car produces approximately 19.6 pounds of CO2 per gallon of fuel burned. An average car driving 12,000 miles per year at 25 MPG produces about 9,408 pounds of CO2 annually. EVs produce zero tailpipe emissions, though the electricity used to charge them may come from fossil fuel power plants. On average in the United States, an EV produces roughly 60% to 70% less CO2 per mile than a comparable gasoline vehicle when accounting for the electricity generation mix.</p>

    <h2>Understanding Your Carbon Footprint from Driving</h2>
    <p>Transportation is the largest source of greenhouse gas emissions in the United States, accounting for about 29% of total emissions. Personal vehicles, including cars and light trucks, are responsible for a significant share of that total. Understanding the carbon footprint of your driving helps you make informed choices about transportation.</p>
    <p>The Environmental Protection Agency (EPA) estimates that burning one gallon of gasoline produces approximately 19.6 pounds of carbon dioxide (CO2). This number may seem surprisingly large given that a gallon of gasoline weighs only about 6.3 pounds, but the explanation lies in chemistry. When gasoline burns, each carbon atom in the fuel combines with two oxygen atoms from the air to form CO2. The oxygen atoms are much heavier than the carbon atoms, so the resulting CO2 weighs significantly more than the original fuel.</p>
    <p>To calculate your annual CO2 emissions from driving, divide your total annual miles by your vehicle's MPG to find annual gallons consumed, then multiply by 19.6 pounds of CO2 per gallon. For example, a driver who covers 15,000 miles per year in a vehicle averaging 28 MPG uses approximately 536 gallons of gas and produces about 10,500 pounds, or roughly 5.25 tons, of CO2 annually.</p>
    <div class="formula-box">
      <code>Annual CO2 (lbs) = (Annual Miles &divide; MPG) &times; 19.6</code>
    </div>
    <p>There are several practical ways to reduce the carbon footprint of your driving. Improving your fuel economy through better driving habits and vehicle maintenance directly reduces emissions proportionally. Carpooling with one other person effectively cuts your per-person emissions in half. Using public transit, biking, or walking for short trips eliminates vehicle emissions entirely. For those in the market for a new vehicle, choosing a hybrid or electric model can dramatically reduce transportation emissions over the life of the vehicle.</p>
    <p>Carbon offset programs offer another option for environmentally conscious drivers. These programs allow you to pay a fee that funds projects designed to reduce or capture an equivalent amount of CO2, such as reforestation, renewable energy development, or methane capture at landfills. While offsets do not eliminate your emissions, they can help balance your carbon footprint while you work toward reducing your actual driving emissions over time.</p>

    <h2>Frequently Asked Questions</h2>
    <h3>How do you calculate gas cost for a trip?</h3>
    <p>To calculate gas cost for a trip, divide the total trip distance by your vehicle's miles per gallon (MPG) rating to determine how many gallons of fuel you will need. Then multiply the gallons by the current price per gallon. For example, a 300-mile trip at 25 MPG requires 12 gallons of gas. At $3.50 per gallon, the total fuel cost is $42.00. For a round trip, simply double the distance before calculating. Your cost per mile is the gas price divided by your MPG, so at $3.50 per gallon and 25 MPG, you pay $0.14 per mile in fuel costs alone.</p>

    <h3>What is the average MPG for a car in the United States?</h3>
    <p>The average fuel economy for new passenger vehicles sold in the United States is approximately 25 to 27 miles per gallon (combined city and highway driving). However, fuel efficiency varies significantly by vehicle type. Compact cars like the Honda Civic or Toyota Corolla average 30 to 35 MPG. Midsize sedans typically achieve 28 to 32 MPG. SUVs range from 22 to 28 MPG depending on size, while full-size pickup trucks average 18 to 24 MPG. Hybrid vehicles like the Toyota Prius achieve 45 to 55 MPG, and plug-in hybrids can deliver even higher MPG equivalent when running on electric power for short trips.</p>

    <h3>How much CO2 does a gallon of gasoline produce?</h3>
    <p>Burning one gallon of gasoline produces approximately 19.6 pounds (8.89 kilograms) of carbon dioxide. This figure is established by the EPA and reflects the chemical process of combustion, where carbon in the fuel combines with oxygen from the air. Although a gallon of gas weighs only about 6.3 pounds, the CO2 output is much heavier because each carbon atom bonds with two heavier oxygen atoms. For context, a vehicle averaging 25 MPG that drives 12,000 miles per year consumes 480 gallons of gas and produces about 9,408 pounds, or roughly 4.7 tons, of CO2 annually.</p>

    <h3>Does driving speed affect fuel cost?</h3>
    <p>Yes, driving speed has a major impact on fuel cost. Most vehicles achieve optimal fuel efficiency between 45 and 65 MPH. Above that range, aerodynamic drag increases exponentially and fuel consumption rises significantly. The U.S. Department of Energy estimates that every 5 MPH you drive above 50 MPH is equivalent to paying an extra $0.20 to $0.30 per gallon of gas. Driving at 80 MPH instead of 65 MPH can reduce your fuel economy by 15% to 25%, adding meaningful cost to a long highway trip.</p>

    <h3>How can I reduce my fuel costs?</h3>
    <p>Several strategies can lower your fuel costs significantly. Drive at moderate speeds and avoid aggressive acceleration and hard braking, which can improve MPG by 15% to 30%. Keep your tires properly inflated to the manufacturer-recommended pressure. Remove unnecessary weight and roof-mounted cargo carriers when not in use. Use cruise control on the highway to maintain a consistent speed. Reduce idling by turning off your engine when stopped for more than 30 seconds. Plan errands to combine multiple stops into a single trip. Use gas price apps like GasBuddy to find the cheapest fuel in your area, and take advantage of grocery store fuel rewards and cashback credit cards that offer bonus rewards on gas purchases.</p>

    <h2>Related Calculators</h2>
    <ul>
      <li><a href="/everyday-calculators/electricity-cost-calculator/">Electricity Cost Calculator</a> - Estimate electricity costs for appliances and devices.</li>
      <li><a href="/everyday-calculators/discount-calculator/">Discount Calculator</a> - Calculate sale prices and savings on purchases.</li>
      <li><a href="/everyday-calculators/hours-calculator/">Hours Calculator</a> - Track work hours and calculate overtime.</li>
      <li><a href="/conversion-calculators/unit-converter/">Unit Converter</a> - Convert between units of measurement.</li>
    </ul>
  </article>

  <AdUnit slot="calc-bottom" format="horizontal" />
</BaseLayout>

<style>
  .checkbox-group {
    display: flex;
    align-items: center;
    margin-bottom: 24px;
  }
  .checkbox-label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9rem;
    cursor: pointer;
    white-space: nowrap;
  }
  .checkbox-label input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--color-primary);
  }
</style>

<script>
  function formatCurrency(n: number): string {
    return '$' + n.toFixed(2);
  }

  function calculate(): void {
    const distance = parseFloat((document.getElementById('tripDistance') as HTMLInputElement).value) || 0;
    const mpg = parseFloat((document.getElementById('fuelEfficiency') as HTMLInputElement).value) || 0;
    const price = parseFloat((document.getElementById('gasPrice') as HTMLInputElement).value) || 0;
    const isRoundTrip = (document.getElementById('roundTrip') as HTMLInputElement).checked;

    const effectiveDistance = isRoundTrip ? distance * 2 : distance;

    if (mpg <= 0 || effectiveDistance <= 0) {
      document.getElementById('gallonsNeeded')!.textContent = '0.00';
      document.getElementById('totalCost')!.textContent = '$0.00';
      document.getElementById('costPerMile')!.textContent = '$0.00';
      document.getElementById('co2Emissions')!.textContent = '0.0';
      return;
    }

    const gallons = effectiveDistance / mpg;
    const totalCost = gallons * price;
    const costPerMile = price / mpg;
    const co2 = gallons * 19.6;

    document.getElementById('gallonsNeeded')!.textContent = gallons.toFixed(2);
    document.getElementById('totalCost')!.textContent = formatCurrency(totalCost);
    document.getElementById('costPerMile')!.textContent = formatCurrency(costPerMile);
    document.getElementById('co2Emissions')!.textContent = co2.toFixed(1);
  }

  document.getElementById('tripDistance')?.addEventListener('input', calculate);
  document.getElementById('fuelEfficiency')?.addEventListener('input', calculate);
  document.getElementById('gasPrice')?.addEventListener('input', calculate);
  document.getElementById('roundTrip')?.addEventListener('change', calculate);

  // Initial calculation on load
  calculate();
</script>
