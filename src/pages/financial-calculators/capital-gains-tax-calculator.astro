---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';
import '../../styles/calculator.css';

const structuredData = [
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://toolcalcs.com/" },
      { "@type": "ListItem", "position": 2, "name": "Financial Calculators", "item": "https://toolcalcs.com/financial-calculators/" },
      { "@type": "ListItem", "position": 3, "name": "Capital Gains Tax Calculator" },
    ],
  },
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is the difference between short-term and long-term capital gains?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Short-term capital gains apply to assets held for less than one year and are taxed at your ordinary income tax rate (10% to 37%). Long-term capital gains apply to assets held for one year or longer and receive preferential tax rates of 0%, 15%, or 20% depending on your taxable income and filing status.",
        },
      },
      {
        "@type": "Question",
        "name": "How can I reduce my capital gains tax?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "You can reduce capital gains tax by holding investments for over one year to qualify for lower long-term rates, using tax-loss harvesting to offset gains with losses, investing through tax-advantaged accounts like 401(k)s and IRAs, and utilizing the primary residence exclusion ($250,000 single / $500,000 married) when selling your home.",
        },
      },
      {
        "@type": "Question",
        "name": "Do I have to pay capital gains tax on my home sale?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Not necessarily. If you have lived in the home as your primary residence for at least 2 of the last 5 years, you can exclude up to $250,000 in gains (single) or $500,000 (married filing jointly) from taxation. Only gains exceeding these thresholds are taxed at the applicable capital gains rate.",
        },
      },
    ],
  },
];
---

<BaseLayout
  title="Capital Gains Tax Calculator - 2025 Tax Rates | ToolCalcs"
  description="Calculate short-term and long-term capital gains tax using 2025 federal tax brackets. Estimate your tax liability, net profit, and effective tax rate."
  type="article"
  structuredData={structuredData}
>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo;
    <a href="/financial-calculators/">Financial Calculators</a> &rsaquo;
    <span>Capital Gains Tax Calculator</span>
  </nav>

  <h1>Capital Gains Tax Calculator</h1>
  <p class="page-desc">Estimate your federal capital gains tax using 2025 tax brackets for both short-term and long-term holdings.</p>

  <div class="calculator-box">
    <div class="calc-inputs">
      <div class="input-group">
        <label for="purchasePrice">Purchase Price ($)</label>
        <input type="number" id="purchasePrice" value="50000" min="0" step="100" />
      </div>
      <div class="input-group">
        <label for="salePrice">Sale Price ($)</label>
        <input type="number" id="salePrice" value="80000" min="0" step="100" />
      </div>
      <div class="input-group">
        <label for="holdingPeriod">Holding Period</label>
        <select id="holdingPeriod">
          <option value="short">Less than 1 year</option>
          <option value="long" selected>1+ years</option>
        </select>
      </div>
      <div class="input-group">
        <label for="filingStatus">Filing Status</label>
        <select id="filingStatus">
          <option value="single" selected>Single</option>
          <option value="married">Married Filing Jointly</option>
          <option value="head">Head of Household</option>
        </select>
      </div>
      <div class="input-group">
        <label for="annualIncome">Annual Income ($)</label>
        <input type="number" id="annualIncome" value="75000" min="0" step="1000" />
      </div>
      <button class="calc-btn" id="calculateBtn">Calculate</button>
    </div>

    <div class="calc-results" id="results">
      <div class="result-cards">
        <div class="result-card primary">
          <span class="result-label">Capital Gain / Loss</span>
          <span class="result-value" id="capitalGain">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Tax Rate</span>
          <span class="result-value" id="taxRate">0%</span>
        </div>
        <div class="result-card">
          <span class="result-label">Estimated Tax</span>
          <span class="result-value" id="estimatedTax">$0</span>
        </div>
        <div class="result-card success">
          <span class="result-label">Net Profit After Tax</span>
          <span class="result-value" id="netProfit">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Effective Tax Rate</span>
          <span class="result-value" id="effectiveRate">0%</span>
        </div>
        <div class="result-card">
          <span class="result-label">Holding Period</span>
          <span class="result-value" id="holdingLabel">Long-term</span>
        </div>
      </div>
    </div>
  </div>

  <AdUnit slot="capgains-mid" format="rectangle" />

  <article class="content-section">
    <h2>Short-Term vs Long-Term Capital Gains</h2>
    <p>The U.S. federal tax code draws a critical distinction between short-term and long-term capital gains, and understanding this difference can save you thousands of dollars in taxes. The classification depends solely on how long you held the asset before selling it.</p>
    <p><strong>Short-term capital gains</strong> apply to assets held for less than one year. These gains are taxed at your ordinary income tax rate, which can range from 10% to 37% depending on your total taxable income. Short-term rates are the same brackets used for wages, salaries, and other earned income.</p>
    <p><strong>Long-term capital gains</strong> apply to assets held for one year or longer and receive preferential tax treatment. The rates are significantly lower: 0%, 15%, or 20%, depending on your taxable income and filing status. This preferential treatment is one of the most powerful tax advantages available to investors.</p>

    <h2>2025 Capital Gains Tax Rates</h2>
    <h3>Long-Term Capital Gains Brackets</h3>
    <p>For tax year 2025, the long-term capital gains rates based on taxable income are:</p>
    <ul>
      <li><strong>0% rate:</strong> Single filers up to $48,350; Married filing jointly up to $96,700; Head of household up to $64,750</li>
      <li><strong>15% rate:</strong> Single filers $48,351 to $533,400; Married filing jointly $96,701 to $600,050; Head of household $64,751 to $566,700</li>
      <li><strong>20% rate:</strong> Single filers above $533,400; Married filing jointly above $600,050; Head of household above $566,700</li>
    </ul>

    <h3>Short-Term Capital Gains (Ordinary Income Brackets)</h3>
    <p>Short-term gains are added to your ordinary income and taxed at the applicable marginal rate. The 2025 federal income tax brackets are:</p>
    <ul>
      <li><strong>10%:</strong> Up to $11,925 (Single) / $23,850 (Married) / $17,000 (HoH)</li>
      <li><strong>12%:</strong> $11,926-$48,475 (S) / $23,851-$96,950 (M) / $17,001-$64,850 (HoH)</li>
      <li><strong>22%:</strong> $48,476-$103,350 (S) / $96,951-$206,700 (M) / $64,851-$103,350 (HoH)</li>
      <li><strong>24%:</strong> $103,351-$197,300 (S) / $206,701-$394,600 (M) / $103,351-$197,300 (HoH)</li>
      <li><strong>32%:</strong> $197,301-$250,525 (S) / $394,601-$501,050 (M) / $197,301-$250,500 (HoH)</li>
      <li><strong>35%:</strong> $250,526-$626,350 (S) / $501,051-$751,600 (M) / $250,501-$626,350 (HoH)</li>
      <li><strong>37%:</strong> Above $626,350 (S) / Above $751,600 (M) / Above $626,350 (HoH)</li>
    </ul>

    <h2>Tax-Loss Harvesting</h2>
    <p>Tax-loss harvesting is a strategy where you sell investments at a loss to offset capital gains and reduce your tax bill. If your capital losses exceed your capital gains in a given year, you can deduct up to <strong>$3,000</strong> of the excess loss against your ordinary income ($1,500 if married filing separately). Any remaining losses carry forward to future tax years indefinitely.</p>
    <p>For example, if you realized $30,000 in capital gains and $20,000 in capital losses during the same year, you would only owe taxes on $10,000 of net gains. This is a widely used technique among tax-efficient investors and is offered as an automated feature by many robo-advisors and brokerage platforms.</p>
    <p>Be aware of the <strong>wash-sale rule</strong>: if you sell a security at a loss and repurchase the same or a substantially identical security within 30 days before or after the sale, the loss is disallowed for tax purposes.</p>

    <h2>Capital Gains on Real Estate</h2>
    <p>Real estate is subject to the same capital gains tax rules, with one major exception: the <strong>primary residence exclusion</strong>. If you have owned and lived in your home as your primary residence for at least 2 of the last 5 years before selling, you can exclude up to:</p>
    <ul>
      <li><strong>$250,000</strong> in gains for single filers</li>
      <li><strong>$500,000</strong> in gains for married couples filing jointly</li>
    </ul>
    <p>Only the gain amount exceeding these thresholds is subject to capital gains tax. This exclusion can be used repeatedly, but generally no more than once every two years. Investment properties and rental properties do not qualify for this exclusion and are also subject to depreciation recapture tax at a 25% rate on any depreciation previously claimed.</p>

    <h2>Frequently Asked Questions</h2>

    <h3>What is the difference between short-term and long-term capital gains?</h3>
    <p>Short-term capital gains apply to assets held less than one year and are taxed at your ordinary income rate (10% to 37%). Long-term gains apply to assets held one year or longer and benefit from preferential rates of 0%, 15%, or 20%. The holding period is measured from the day after purchase to the day of sale.</p>

    <h3>How can I reduce my capital gains tax?</h3>
    <p>Several strategies can reduce your capital gains tax: hold investments for over one year to qualify for lower long-term rates, use tax-loss harvesting to offset gains with losses, invest through tax-advantaged accounts (401k, IRA, Roth IRA), and take advantage of the primary residence exclusion when selling your home. Charitable giving of appreciated assets is another effective technique.</p>

    <h3>Do I have to pay capital gains tax on my home sale?</h3>
    <p>Not necessarily. The primary residence exclusion allows you to exclude up to $250,000 in gains (single) or $500,000 (married filing jointly) if you have lived in the home for at least 2 of the last 5 years. Only gains exceeding these amounts are taxed. Investment and rental properties do not qualify for this exclusion.</p>

    <h2>Related Calculators</h2>
    <ul>
      <li><a href="/financial-calculators/tax-calculator/">Tax Calculator</a> - Estimate your full federal income tax liability.</li>
      <li><a href="/financial-calculators/roi-calculator/">ROI Calculator</a> - Calculate return on investment for any asset.</li>
      <li><a href="/financial-calculators/investment-calculator/">Investment Calculator</a> - Project future investment growth with contributions.</li>
    </ul>
  </article>

  <AdUnit slot="capgains-bottom" format="horizontal" />
</BaseLayout>

<script>
  function formatCurrency(n: number): string {
    return '$' + n.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
  }

  function formatPct(n: number): string {
    return n.toLocaleString('en-US', { minimumFractionDigits: 1, maximumFractionDigits: 1 }) + '%';
  }

  // 2025 Long-term capital gains thresholds
  const longTermBrackets: Record<string, { rate: number; max: number }[]> = {
    single: [
      { rate: 0, max: 48350 },
      { rate: 15, max: 533400 },
      { rate: 20, max: Infinity },
    ],
    married: [
      { rate: 0, max: 96700 },
      { rate: 15, max: 600050 },
      { rate: 20, max: Infinity },
    ],
    head: [
      { rate: 0, max: 64750 },
      { rate: 15, max: 566700 },
      { rate: 20, max: Infinity },
    ],
  };

  // 2025 Ordinary income tax brackets (for short-term gains)
  const ordinaryBrackets: Record<string, { rate: number; max: number }[]> = {
    single: [
      { rate: 10, max: 11925 },
      { rate: 12, max: 48475 },
      { rate: 22, max: 103350 },
      { rate: 24, max: 197300 },
      { rate: 32, max: 250525 },
      { rate: 35, max: 626350 },
      { rate: 37, max: Infinity },
    ],
    married: [
      { rate: 10, max: 23850 },
      { rate: 12, max: 96950 },
      { rate: 22, max: 206700 },
      { rate: 24, max: 394600 },
      { rate: 32, max: 501050 },
      { rate: 35, max: 751600 },
      { rate: 37, max: Infinity },
    ],
    head: [
      { rate: 10, max: 17000 },
      { rate: 12, max: 64850 },
      { rate: 22, max: 103350 },
      { rate: 24, max: 197300 },
      { rate: 32, max: 250500 },
      { rate: 35, max: 626350 },
      { rate: 37, max: Infinity },
    ],
  };

  function calcLongTermTax(gain: number, income: number, status: string): { tax: number; rate: number } {
    const brackets = longTermBrackets[status];
    const totalIncome = income + gain;

    // Determine the rate based on total taxable income
    let rate = 0;
    for (const bracket of brackets) {
      if (totalIncome <= bracket.max) {
        rate = bracket.rate;
        break;
      }
    }

    // For gains that straddle brackets, calculate marginal tax
    let tax = 0;
    let remainingGain = gain;
    let currentIncome = income;

    for (const bracket of brackets) {
      if (currentIncome >= bracket.max) continue;
      const roomInBracket = bracket.max - currentIncome;
      const taxableInBracket = Math.min(remainingGain, roomInBracket);
      tax += taxableInBracket * (bracket.rate / 100);
      remainingGain -= taxableInBracket;
      currentIncome += taxableInBracket;
      if (remainingGain <= 0) break;
    }

    const effectiveRate = gain > 0 ? (tax / gain) * 100 : 0;
    return { tax, rate: effectiveRate };
  }

  function calcShortTermTax(gain: number, income: number, status: string): { tax: number; rate: number } {
    const brackets = ordinaryBrackets[status];

    // Tax on income + gain minus tax on income alone = marginal tax on the gain
    function taxForIncome(taxableIncome: number): number {
      let totalTax = 0;
      let prev = 0;
      for (const bracket of brackets) {
        const taxable = Math.min(taxableIncome, bracket.max) - prev;
        if (taxable <= 0) break;
        totalTax += taxable * (bracket.rate / 100);
        prev = bracket.max;
      }
      return totalTax;
    }

    const taxWithGain = taxForIncome(income + gain);
    const taxWithoutGain = taxForIncome(income);
    const tax = taxWithGain - taxWithoutGain;

    // Find the marginal rate for display
    let marginalRate = 0;
    const totalIncome = income + gain;
    for (const bracket of brackets) {
      if (totalIncome <= bracket.max) {
        marginalRate = bracket.rate;
        break;
      }
    }

    return { tax, rate: marginalRate };
  }

  function calculate() {
    const purchasePrice = parseFloat((document.getElementById('purchasePrice') as HTMLInputElement).value) || 0;
    const salePrice = parseFloat((document.getElementById('salePrice') as HTMLInputElement).value) || 0;
    const holding = (document.getElementById('holdingPeriod') as HTMLSelectElement).value;
    const status = (document.getElementById('filingStatus') as HTMLSelectElement).value;
    const income = parseFloat((document.getElementById('annualIncome') as HTMLInputElement).value) || 0;

    const gain = salePrice - purchasePrice;
    const isLongTerm = holding === 'long';
    const holdingLabel = isLongTerm ? 'Long-term' : 'Short-term';

    document.getElementById('capitalGain')!.textContent = formatCurrency(gain);
    document.getElementById('holdingLabel')!.textContent = holdingLabel;

    if (gain <= 0) {
      document.getElementById('taxRate')!.textContent = '0%';
      document.getElementById('estimatedTax')!.textContent = '$0.00';
      document.getElementById('netProfit')!.textContent = formatCurrency(gain);
      document.getElementById('effectiveRate')!.textContent = '0%';
      return;
    }

    const result = isLongTerm
      ? calcLongTermTax(gain, income, status)
      : calcShortTermTax(gain, income, status);

    const netProfit = gain - result.tax;
    const effectiveRate = gain > 0 ? (result.tax / gain) * 100 : 0;

    document.getElementById('taxRate')!.textContent = formatPct(result.rate);
    document.getElementById('estimatedTax')!.textContent = formatCurrency(result.tax);
    document.getElementById('netProfit')!.textContent = formatCurrency(netProfit);
    document.getElementById('effectiveRate')!.textContent = formatPct(effectiveRate);
  }

  document.getElementById('calculateBtn')?.addEventListener('click', calculate);
  calculate();
</script>
