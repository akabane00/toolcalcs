---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';
import '../../styles/calculator.css';

const structuredData = [
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://toolcalcs.com/" },
      { "@type": "ListItem", "position": 2, "name": "Financial Calculators", "item": "https://toolcalcs.com/financial-calculators/" },
      { "@type": "ListItem", "position": 3, "name": "Margin Calculator" },
    ],
  },
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is the difference between margin and markup?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Margin is the percentage of the selling price that is profit (Profit / Revenue × 100). Markup is the percentage added to the cost to get the selling price (Profit / Cost × 100). A 50% markup on a $10 item means selling at $15, while a 50% margin means selling at $20.",
        },
      },
      {
        "@type": "Question",
        "name": "How do you calculate profit margin?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Profit Margin = ((Revenue - Cost) / Revenue) × 100. For example, if you sell a product for $100 and it costs $60, the profit margin is (($100 - $60) / $100) × 100 = 40%.",
        },
      },
      {
        "@type": "Question",
        "name": "What is a good profit margin?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "A good profit margin varies by industry. Retail typically operates at 2-5% net margin, while software companies can achieve 20-40%+. Gross margins are higher, typically 30-70% depending on the industry. Compare your margin to your specific industry benchmarks.",
        },
      },
    ],
  },
];
---

<BaseLayout
  title="Margin Calculator - Profit Margin & Markup | ToolCalcs"
  description="Calculate profit margin, markup percentage, and revenue from cost and selling price. Understand the difference between margin and markup."
  type="article"
  structuredData={structuredData}
>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo;
    <a href="/financial-calculators/">Financial Calculators</a> &rsaquo;
    <span>Margin Calculator</span>
  </nav>

  <h1>Margin Calculator</h1>
  <p class="page-desc">Calculate profit margin, markup, and revenue from cost and selling price.</p>

  <div class="calculator-box">
    <div class="calc-inputs">
      <div class="input-group">
        <label for="costPrice">Cost Price ($)</label>
        <input type="number" id="costPrice" value="60" min="0" step="0.01" />
      </div>
      <div class="input-group">
        <label for="sellingPrice">Selling Price ($)</label>
        <input type="number" id="sellingPrice" value="100" min="0" step="0.01" />
      </div>
    </div>

    <div class="calc-results" id="results">
      <div class="result-cards">
        <div class="result-card primary">
          <span class="result-label">Profit Margin</span>
          <span class="result-value" id="profitMargin">0%</span>
        </div>
        <div class="result-card">
          <span class="result-label">Markup</span>
          <span class="result-value" id="markup">0%</span>
        </div>
        <div class="result-card success">
          <span class="result-label">Profit</span>
          <span class="result-value" id="profit">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Cost</span>
          <span class="result-value" id="cost">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Revenue</span>
          <span class="result-value" id="revenue">$0</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Reverse calculators -->
  <h2 class="section-heading">Calculate from Margin or Markup</h2>
  <div class="calculator-box">
    <div class="calc-inputs">
      <div class="input-group">
        <label for="revCost">Cost ($)</label>
        <input type="number" id="revCost" value="60" min="0" step="0.01" />
      </div>
      <div class="input-group">
        <label for="desiredMargin">Desired Margin (%)</label>
        <input type="number" id="desiredMargin" value="40" min="0" max="99.99" step="0.5" />
      </div>
    </div>
    <div class="calc-results">
      <div class="result-cards">
        <div class="result-card">
          <span class="result-label">Required Selling Price</span>
          <span class="result-value" id="reqPrice">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Equivalent Markup</span>
          <span class="result-value" id="eqMarkup">0%</span>
        </div>
      </div>
    </div>
  </div>

  <AdUnit slot="margin-mid" format="rectangle" />

  <article class="content-section">
    <h2>Understanding Profit Margin</h2>
    <p>
      Profit margin is one of the most important metrics in business. It measures how much of each dollar of revenue a company keeps as profit after paying for the cost of goods sold. A higher margin means the business retains more money from each sale, which can be used for operating expenses, growth, and profit distribution.
    </p>
    <div class="formula-box">
      <code>Profit Margin = ((Revenue - Cost) / Revenue) × 100</code>
    </div>
    <p>
      For example, if you sell a product for $100 and it costs you $60 to produce or purchase, your profit is $40 and your profit margin is 40%. This means 40 cents of every dollar in revenue is profit.
    </p>

    <h2>Margin vs Markup: Key Difference</h2>
    <p>
      While margin and markup both measure profitability, they use different base values. <strong>Margin</strong> is calculated as a percentage of the selling price (revenue), while <strong>markup</strong> is calculated as a percentage of the cost. This distinction is crucial for pricing decisions.
    </p>
    <div class="formula-box">
      <code>Margin = Profit / Revenue × 100</code>
    </div>
    <div class="formula-box">
      <code>Markup = Profit / Cost × 100</code>
    </div>
    <p>
      A product costing $60 sold for $100 has a 40% margin but a 66.7% markup. Margin is always lower than markup for the same transaction because the divisor (revenue) is larger than the cost. A common mistake in pricing is confusing the two, which can significantly affect profitability.
    </p>

    <h2>Common Margin-to-Markup Conversions</h2>
    <ul>
      <li>15% margin = 17.6% markup</li>
      <li>20% margin = 25% markup</li>
      <li>25% margin = 33.3% markup</li>
      <li>30% margin = 42.9% markup</li>
      <li>40% margin = 66.7% markup</li>
      <li>50% margin = 100% markup</li>
    </ul>

    <h2>What Is a Good Profit Margin?</h2>
    <p>
      Profit margins vary widely by industry. Grocery stores operate on very thin margins of 1-3%, while software companies may achieve 60-80% gross margins. The key is to compare your margin against industry benchmarks rather than an absolute standard. Here are typical gross margin ranges by sector:
    </p>
    <ul>
      <li><strong>Retail/E-commerce:</strong> 25-50% gross margin</li>
      <li><strong>Manufacturing:</strong> 25-35% gross margin</li>
      <li><strong>Food service:</strong> 60-70% gross margin (on food items)</li>
      <li><strong>Software/SaaS:</strong> 70-85% gross margin</li>
      <li><strong>Consulting/Services:</strong> 50-75% gross margin</li>
    </ul>

    <h2>Frequently Asked Questions</h2>

    <h3>What is the difference between margin and markup?</h3>
    <p>
      Margin is profit as a percentage of revenue (selling price), while markup is profit as a percentage of cost. If a $10 item sells for $15, the margin is 33.3% ($5/$15) but the markup is 50% ($5/$10). Margin can never exceed 100%, but markup can be any positive percentage.
    </p>

    <h3>How do you calculate profit margin?</h3>
    <p>
      Profit Margin = ((Revenue - Cost) / Revenue) × 100. For example, selling at $100 with a $60 cost gives you (($100 - $60) / $100) × 100 = 40% profit margin.
    </p>

    <h3>What is a good profit margin?</h3>
    <p>
      It depends heavily on the industry. Grocery retail operates at 1-3% net margin, while SaaS companies often achieve 20-40%+ net margins. Compare your margins to your specific industry benchmarks for a meaningful assessment.
    </p>

    <h2>Related Calculators</h2>
    <ul>
      <li><a href="/financial-calculators/tax-calculator/">Tax Calculator</a> — Estimate your federal income tax liability.</li>
      <li><a href="/math-calculators/percentage-calculator/">Percentage Calculator</a> — Calculate any percentage operation.</li>
    </ul>
  </article>

  <AdUnit slot="margin-bottom" format="horizontal" />
</BaseLayout>

<style>
  .section-heading {
    font-size: 1.2rem;
    margin: 32px 0 12px;
  }
</style>

<script>
  function fmtCurrency(n: number): string {
    return '$' + n.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
  }

  function fmtPct(n: number): string {
    return n.toLocaleString('en-US', { minimumFractionDigits: 1, maximumFractionDigits: 1 }) + '%';
  }

  // Main calculator
  function calculateMain() {
    const cost = parseFloat((document.getElementById('costPrice') as HTMLInputElement).value) || 0;
    const revenue = parseFloat((document.getElementById('sellingPrice') as HTMLInputElement).value) || 0;
    const profit = revenue - cost;
    const margin = revenue > 0 ? (profit / revenue * 100) : 0;
    const markup = cost > 0 ? (profit / cost * 100) : 0;

    document.getElementById('profitMargin')!.textContent = fmtPct(margin);
    document.getElementById('markup')!.textContent = fmtPct(markup);
    document.getElementById('profit')!.textContent = fmtCurrency(profit);
    document.getElementById('cost')!.textContent = fmtCurrency(cost);
    document.getElementById('revenue')!.textContent = fmtCurrency(revenue);
  }

  // Reverse calculator
  function calculateReverse() {
    const cost = parseFloat((document.getElementById('revCost') as HTMLInputElement).value) || 0;
    const margin = parseFloat((document.getElementById('desiredMargin') as HTMLInputElement).value) || 0;

    // margin = (price - cost) / price * 100
    // price * margin/100 = price - cost
    // price - price * margin/100 = cost
    // price * (1 - margin/100) = cost
    // price = cost / (1 - margin/100)
    const price = margin < 100 ? cost / (1 - margin / 100) : 0;
    const eqMarkup = cost > 0 ? ((price - cost) / cost * 100) : 0;

    document.getElementById('reqPrice')!.textContent = fmtCurrency(price);
    document.getElementById('eqMarkup')!.textContent = fmtPct(eqMarkup);
  }

  ['costPrice', 'sellingPrice'].forEach(id => {
    document.getElementById(id)?.addEventListener('input', calculateMain);
  });
  ['revCost', 'desiredMargin'].forEach(id => {
    document.getElementById(id)?.addEventListener('input', calculateReverse);
  });

  calculateMain();
  calculateReverse();
</script>
