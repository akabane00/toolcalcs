---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';

const structuredData = {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  mainEntity: [
    {
      '@type': 'Question',
      name: 'What is take-home pay?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'Take-home pay is the net amount of money you receive in your paycheck after all deductions are withheld. These deductions include federal income tax, state income tax, Social Security tax, and Medicare tax. Your take-home pay is always less than your gross salary.',
      },
    },
    {
      '@type': 'Question',
      name: 'How much of my salary goes to taxes?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'The total percentage of your salary that goes to taxes depends on your income level, filing status, and state of residence. Most workers pay between 20% and 35% of their gross income in combined federal income tax, state income tax, Social Security (6.2%), and Medicare (1.45%) taxes.',
      },
    },
    {
      '@type': 'Question',
      name: 'How can I increase my take-home pay?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'You can increase your take-home pay by contributing to pre-tax accounts such as a 401(k), HSA, or FSA, which reduce your taxable income. You can also review your W-4 withholding allowances to ensure you are not having too much tax withheld from each paycheck.',
      },
    },
  ],
};
---

<BaseLayout
  title="Take-Home Pay Calculator - Estimate Your Net Paycheck"
  description="Free take-home pay calculator. Estimate your net paycheck after federal and state taxes, Social Security, and Medicare deductions based on your salary and filing status."
  type="article"
  structuredData={structuredData}
>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo;
    <a href="/financial-calculators/">Financial Calculators</a> &rsaquo;
    <span>Take-Home Pay Calculator</span>
  </nav>

  <h1>Take-Home Pay Calculator</h1>
  <p class="page-desc">Estimate your net paycheck after federal and state income taxes, Social Security, and Medicare deductions.</p>

  <!-- Calculator Tool -->
  <div class="calculator-box">
    <div class="calc-inputs">
      <div class="input-group">
        <label for="annualSalary">Annual Salary ($)</label>
        <input type="number" id="annualSalary" value="75000" min="0" step="1000" />
      </div>
      <div class="input-group">
        <label for="payFrequency">Pay Frequency</label>
        <select id="payFrequency">
          <option value="52">Weekly</option>
          <option value="26" selected>Bi-weekly</option>
          <option value="24">Semi-monthly</option>
          <option value="12">Monthly</option>
        </select>
      </div>
      <div class="input-group">
        <label for="filingStatus">Filing Status</label>
        <select id="filingStatus">
          <option value="single" selected>Single</option>
          <option value="married">Married Filing Jointly</option>
          <option value="hoh">Head of Household</option>
        </select>
      </div>
      <div class="input-group">
        <label for="state">State</label>
        <select id="state">
          <option value="0.0000" data-name="No State Tax">No State Tax</option>
          <option value="0.0930" data-name="California">California</option>
          <option value="0.0685" data-name="New York">New York</option>
          <option value="0.0000" data-name="Texas">Texas</option>
          <option value="0.0000" data-name="Florida">Florida</option>
          <option value="0.0495" data-name="Illinois">Illinois</option>
          <option value="0.0307" data-name="Pennsylvania">Pennsylvania</option>
          <option value="0.0399" data-name="Ohio">Ohio</option>
          <option value="0.0549" data-name="Georgia" selected>Georgia</option>
          <option value="0.0475" data-name="North Carolina">North Carolina</option>
          <option value="0.0637" data-name="New Jersey">New Jersey</option>
        </select>
      </div>
      <button class="calc-btn" id="calculateBtn">Calculate</button>
    </div>

    <div class="calc-results" id="results">
      <h3 class="results-heading">Annual Breakdown</h3>
      <div class="result-cards">
        <div class="result-card primary">
          <span class="result-label">Gross Annual Pay</span>
          <span class="result-value" id="grossAnnual">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Federal Tax</span>
          <span class="result-value" id="fedTaxAnnual">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">State Tax</span>
          <span class="result-value" id="stateTaxAnnual">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Social Security</span>
          <span class="result-value" id="ssAnnual">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Medicare</span>
          <span class="result-value" id="medicareAnnual">$0</span>
        </div>
        <div class="result-card success">
          <span class="result-label">Net Take-Home Pay</span>
          <span class="result-value" id="netAnnual">$0</span>
        </div>
      </div>

      <h3 class="results-heading">Per-Period Breakdown</h3>
      <div class="result-cards">
        <div class="result-card primary">
          <span class="result-label">Gross Pay Per Period</span>
          <span class="result-value" id="grossPeriod">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Federal Tax</span>
          <span class="result-value" id="fedTaxPeriod">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">State Tax</span>
          <span class="result-value" id="stateTaxPeriod">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Social Security</span>
          <span class="result-value" id="ssPeriod">$0</span>
        </div>
        <div class="result-card">
          <span class="result-label">Medicare</span>
          <span class="result-value" id="medicarePeriod">$0</span>
        </div>
        <div class="result-card success">
          <span class="result-label">Net Take-Home Pay</span>
          <span class="result-value" id="netPeriod">$0</span>
        </div>
      </div>

      <div class="summary-bar">
        <div class="summary-item">
          <span class="summary-label">Effective Tax Rate</span>
          <span class="summary-value" id="effectiveRate">0%</span>
        </div>
        <div class="summary-item">
          <span class="summary-label">Total Annual Deductions</span>
          <span class="summary-value" id="totalDeductions">$0</span>
        </div>
      </div>
    </div>
  </div>

  <AdUnit slot="calc-mid" format="rectangle" />

  <!-- SEO Content -->
  <article class="content-section">
    <h2>What Is Take-Home Pay?</h2>
    <p>Take-home pay, also known as net pay, is the amount of money you actually receive in your paycheck after all mandatory deductions have been withheld by your employer. While your gross salary is the total amount your employer agrees to pay you, your take-home pay is always lower because of federal income tax, state income tax, Social Security contributions, and Medicare contributions.</p>
    <p>Understanding your take-home pay is essential for budgeting, financial planning, and evaluating job offers. Two positions with the same gross salary can produce very different take-home pay amounts depending on the state you live in, your filing status, and the benefits you elect. For example, someone earning $75,000 in Texas, which has no state income tax, will take home more than someone earning the same salary in California, where the state income tax rate can exceed 9%.</p>
    <p>Your take-home pay also depends on how frequently you are paid. If you are paid bi-weekly (every two weeks), you will receive 26 paychecks per year. If you are paid semi-monthly (twice per month), you will receive 24 paychecks. While the annual totals are the same, the per-paycheck amounts differ, which can affect how you manage your monthly bills and savings contributions.</p>
    <p>This calculator helps you estimate your take-home pay by accounting for the major payroll deductions most workers face. Keep in mind that actual results may vary based on additional pre-tax deductions such as 401(k) contributions, health insurance premiums, and other benefits your employer may offer.</p>

    <h2>How Take-Home Pay Is Calculated</h2>
    <p>Calculating your take-home pay involves several steps, each of which reduces your gross salary by a specific deduction. Here is a step-by-step breakdown of how the process works:</p>
    <ol>
      <li><strong>Start with gross annual salary.</strong> This is the total compensation your employer has agreed to pay you before any deductions.</li>
      <li><strong>Subtract the standard deduction.</strong> The standard deduction reduces your taxable income. For 2024, the standard deduction is $14,600 for single filers, $29,200 for married couples filing jointly, and $21,900 for head of household filers. Your taxable income is your gross salary minus the standard deduction.</li>
      <li><strong>Calculate federal income tax.</strong> Federal income tax uses a progressive bracket system. You do not pay a single flat rate on all your income. Instead, different portions of your taxable income are taxed at different rates, starting at 10% and increasing to 37% for the highest earners.</li>
      <li><strong>Calculate state income tax.</strong> Most states impose their own income tax on top of federal taxes. State tax rates vary widely, from 0% in states like Texas and Florida to over 13% in California for the highest earners. This calculator uses simplified flat rates for estimation purposes.</li>
      <li><strong>Calculate Social Security tax.</strong> Social Security tax is 6.2% of your gross salary, up to a wage base limit of $168,600 for 2024. Any income above this threshold is not subject to Social Security tax.</li>
      <li><strong>Calculate Medicare tax.</strong> Medicare tax is 1.45% of your entire gross salary with no income cap. If your income exceeds $200,000, an additional 0.9% Medicare surtax applies to earnings above that threshold.</li>
      <li><strong>Subtract all deductions from gross salary.</strong> The sum of federal tax, state tax, Social Security, and Medicare is subtracted from your gross annual salary to arrive at your annual take-home pay. Divide this figure by the number of pay periods to get your per-paycheck amount.</li>
    </ol>
    <p>It is important to note that this is a simplified calculation. In practice, your employer may also withhold amounts for health insurance, retirement plan contributions, life insurance, union dues, and other voluntary deductions, all of which further reduce your take-home pay.</p>

    <h2>Federal Income Tax Brackets</h2>
    <p>The United States uses a progressive federal income tax system, which means that higher portions of your income are taxed at higher rates. Many people misunderstand how tax brackets work, believing that moving into a higher bracket means all of their income is taxed at the higher rate. In reality, only the income within each bracket is taxed at that bracket's rate.</p>
    <p>For the 2024 tax year, the federal income tax brackets for single filers are:</p>
    <ul>
      <li><strong>10%</strong> on taxable income from $0 to $11,600</li>
      <li><strong>12%</strong> on taxable income from $11,601 to $47,150</li>
      <li><strong>22%</strong> on taxable income from $47,151 to $100,525</li>
      <li><strong>24%</strong> on taxable income from $100,526 to $191,950</li>
      <li><strong>32%</strong> on taxable income from $191,951 to $243,725</li>
      <li><strong>35%</strong> on taxable income from $243,726 to $609,350</li>
      <li><strong>37%</strong> on taxable income over $609,350</li>
    </ul>
    <p>For married couples filing jointly, each bracket threshold is roughly doubled. For example, the 10% bracket extends to $23,200, and the 12% bracket extends to $94,300. This is one reason married couples often pay less in taxes than two single individuals with the same combined income.</p>
    <p>To illustrate how progressive taxation works, consider a single filer with $75,000 in gross salary. After subtracting the $14,600 standard deduction, taxable income is $60,400. The federal tax is calculated as follows: 10% on the first $11,600 ($1,160), plus 12% on income from $11,601 to $47,150 ($4,266), plus 22% on income from $47,151 to $60,400 ($2,915). The total federal tax is $8,341, which represents an effective federal tax rate of about 11.1% on the full $75,000 gross salary.</p>

    <h2>FICA Taxes: Social Security and Medicare</h2>
    <p>FICA stands for the Federal Insurance Contributions Act, and it funds two of the most important social safety net programs in the United States: Social Security and Medicare. Unlike income tax, FICA taxes are calculated as a flat percentage of your gross earnings and are shared equally between you and your employer.</p>
    <p><strong>Social Security tax</strong> is 6.2% of your gross wages, up to the annual wage base limit. For 2024, the wage base limit is $168,600. This means the maximum Social Security tax an employee can pay in a year is $10,453.20 (6.2% of $168,600). Your employer also pays 6.2%, bringing the total Social Security contribution to 12.4% of your wages. If you earn more than $168,600, you stop paying Social Security tax on the excess income.</p>
    <p><strong>Medicare tax</strong> is 1.45% of all your gross wages with no income cap. Unlike Social Security, there is no upper limit on Medicare-taxable wages. Your employer also pays 1.45%, for a combined rate of 2.9%. In addition, if your individual income exceeds $200,000 (or $250,000 for married couples filing jointly), you must pay an Additional Medicare Tax of 0.9% on earnings above that threshold. This surtax is paid only by the employee; the employer does not match it.</p>
    <p>Together, Social Security and Medicare taxes make up 7.65% of your gross wages for most workers. For someone earning $75,000, that amounts to $5,737.50 per year, or about $220.67 per bi-weekly paycheck. These payroll taxes are non-negotiable and apply to virtually all wage earners, regardless of filing status or deductions.</p>
    <p>Self-employed individuals are responsible for both the employee and employer portions of FICA taxes, paying a combined 15.3% (12.4% for Social Security and 2.9% for Medicare). However, self-employed workers can deduct the employer-equivalent portion of their FICA taxes when calculating their adjusted gross income.</p>

    <h2>State Income Tax</h2>
    <p>State income tax is an additional layer of taxation that varies significantly depending on where you live and work. While the federal tax system is the same for everyone, state tax policies differ widely across the country, and your state of residence can have a meaningful impact on your take-home pay.</p>
    <p>As of 2024, nine states have no state income tax: Alaska, Florida, Nevada, New Hampshire (which taxes only investment income), South Dakota, Tennessee, Texas, Washington, and Wyoming. Living in one of these states means more of your paycheck stays in your pocket. For example, a worker earning $100,000 in Florida keeps significantly more than the same worker in California, where the top marginal state tax rate exceeds 13%.</p>
    <p>Most states with an income tax use either a flat rate or a progressive bracket system similar to the federal system. States with flat rates include Illinois (4.95%), Pennsylvania (3.07%), and North Carolina (4.75%). States with progressive brackets include California, New York, New Jersey, and Georgia, where rates increase with income. This calculator uses simplified flat rates for estimation, which provides a reasonable approximation for most income levels.</p>
    <p>It is also worth noting that some cities impose their own local income taxes. For example, New York City residents pay an additional city income tax of up to 3.876%, and workers in some Ohio cities face municipal income taxes as well. These local taxes are not included in this calculator but can further reduce your take-home pay if they apply to you.</p>

    <h2>Tips to Increase Your Take-Home Pay</h2>
    <p>While you cannot avoid paying taxes entirely, there are several legitimate strategies to reduce your taxable income and increase the amount that ends up in your bank account each pay period:</p>
    <ul>
      <li><strong>Contribute to a 401(k) or 403(b) plan.</strong> Traditional 401(k) contributions are made with pre-tax dollars, which reduces your taxable income. For 2024, you can contribute up to $23,000 (or $30,500 if you are 50 or older). Every dollar you contribute lowers your federal and state taxable income, resulting in a higher net paycheck even though total compensation is the same.</li>
      <li><strong>Use a Health Savings Account (HSA).</strong> If you have a high-deductible health plan, you can contribute up to $4,150 (individual) or $8,300 (family) to an HSA in 2024. HSA contributions are tax-deductible, the account grows tax-free, and withdrawals for qualified medical expenses are also tax-free, making it one of the most tax-advantaged accounts available.</li>
      <li><strong>Take advantage of a Flexible Spending Account (FSA).</strong> An FSA lets you set aside up to $3,200 in pre-tax dollars for eligible healthcare or dependent care expenses. Like a 401(k), FSA contributions reduce your taxable income and increase your per-paycheck take-home pay.</li>
      <li><strong>Review your W-4 withholding.</strong> Many workers have too much federal tax withheld from their paychecks, resulting in a large refund at tax time. While a big refund may feel like a bonus, it actually means you gave the government an interest-free loan. Use the IRS Tax Withholding Estimator to adjust your W-4 so that your withholding more closely matches your actual tax liability.</li>
      <li><strong>Consider commuter benefits.</strong> Some employers offer pre-tax commuter benefits that let you pay for transit passes or parking with pre-tax dollars, up to $315 per month for 2024. This reduces your taxable income and saves money on your daily commute.</li>
      <li><strong>Claim all eligible deductions and credits.</strong> Depending on your situation, you may qualify for tax deductions (such as student loan interest or educator expenses) or tax credits (such as the Earned Income Tax Credit or the Child Tax Credit) that reduce your overall tax burden. While these may not directly affect your per-paycheck withholding, they can lower your annual tax bill and increase your effective take-home pay.</li>
    </ul>
    <p>By combining several of these strategies, you can meaningfully increase your take-home pay without changing your gross salary. For instance, contributing $10,000 to a 401(k) and $4,150 to an HSA would reduce your taxable income by $14,150, potentially saving you $3,000 or more per year in taxes depending on your bracket.</p>

    <h2>Frequently Asked Questions</h2>
    <h3>What is the difference between gross pay and net pay?</h3>
    <p>Gross pay is the total amount your employer pays you before any deductions. Net pay, or take-home pay, is the amount you actually receive after federal income tax, state income tax, Social Security, Medicare, and any other deductions are subtracted. For most workers, net pay is 65% to 80% of gross pay, depending on income level, filing status, and state of residence.</p>

    <h3>Why is my take-home pay so low compared to my salary?</h3>
    <p>Your take-home pay may feel low because multiple taxes are deducted from each paycheck. Federal income tax alone can take 10% to 37% of your taxable income, and Social Security and Medicare add another 7.65%. If you live in a state with income tax, that is an additional deduction. On top of taxes, many employers also deduct health insurance premiums, retirement contributions, and other benefit costs from your gross pay.</p>

    <h3>How does filing status affect my take-home pay?</h3>
    <p>Your filing status determines your standard deduction and the income thresholds for each tax bracket. Married couples filing jointly receive a higher standard deduction ($29,200 vs. $14,600 for single filers in 2024) and wider tax brackets, which generally results in lower taxes and higher take-home pay. Head of household status falls in between, with a standard deduction of $21,900 and moderately wider brackets. Choosing the correct filing status ensures you are not paying more tax than required.</p>

    <h3>Does this calculator account for 401(k) or health insurance deductions?</h3>
    <p>This calculator estimates take-home pay based on federal income tax, state income tax, Social Security, and Medicare only. It does not account for pre-tax deductions like 401(k) contributions, HSA or FSA contributions, or health insurance premiums. If you contribute to these programs, your actual take-home pay will be lower than the calculator shows, but your taxable income will also be lower, meaning you pay less in taxes overall.</p>

    <h3>How accurate is this take-home pay estimate?</h3>
    <p>This calculator provides a reasonable estimate based on 2024 federal tax brackets, standard deductions, FICA tax rates, and simplified state tax rates. Actual take-home pay may vary depending on additional deductions, tax credits, local taxes, pre-tax contributions, and individual circumstances. For the most accurate calculation, consult a tax professional or use the IRS Tax Withholding Estimator.</p>
    <h2>Related Calculators</h2>
    <ul>
      <li><a href="/everyday-calculators/tip-calculator/">Tip Calculator</a> - Quickly calculate tips and split bills.</li>
      <li><a href="/everyday-calculators/hours-calculator/">Hours Calculator</a> - Track work hours and calculate overtime.</li>
      <li><a href="/financial-calculators/savings-goal-calculator/">Savings Goal Calculator</a> - Plan monthly savings to reach your goals.</li>
    </ul>
  </article>

  <AdUnit slot="calc-bottom" format="horizontal" />
</BaseLayout>

<style>
  .breadcrumb { font-size: 0.85rem; color: var(--color-text-muted); margin-bottom: 16px; }
  .breadcrumb a { color: var(--color-text-muted); }
  .breadcrumb a:hover { color: var(--color-primary); }
  h1 { font-size: 1.8rem; margin-bottom: 8px; }
  .page-desc { color: var(--color-text-muted); margin-bottom: 24px; }

  .calculator-box {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
    padding: 24px;
    margin-bottom: 32px;
  }
  .calc-inputs {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
  }
  .input-group { display: flex; flex-direction: column; gap: 4px; }
  .input-group label {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-text-muted);
  }
  .input-group input,
  .input-group select {
    padding: 10px 12px;
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
    font-size: 1rem;
    background: var(--color-bg);
    color: var(--color-text);
  }
  .input-group input:focus,
  .input-group select:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  }
  .calc-btn {
    padding: 10px 24px;
    background: var(--color-primary);
    color: #fff;
    border: none;
    border-radius: var(--radius);
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    align-self: end;
    transition: background 0.15s;
  }
  .calc-btn:hover { background: var(--color-primary-dark); }

  .results-heading {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text-muted);
    margin: 0 0 12px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  .results-heading:not(:first-child) {
    margin-top: 24px;
  }

  .result-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 12px;
    margin-bottom: 12px;
  }
  .result-card {
    background: var(--color-bg);
    border-radius: var(--radius);
    padding: 16px;
    text-align: center;
  }
  .result-card.primary { background: #eff6ff; }
  .result-card.success { background: #f0fdf4; }
  .result-label {
    display: block;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--color-text-muted);
    margin-bottom: 4px;
  }
  .result-value {
    display: block;
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--color-text);
  }
  .result-card.primary .result-value { color: var(--color-primary); }
  .result-card.success .result-value { color: var(--color-success); }

  .summary-bar {
    display: flex;
    gap: 24px;
    margin-top: 20px;
    padding: 16px;
    background: var(--color-bg);
    border-radius: var(--radius);
    flex-wrap: wrap;
  }
  .summary-item { display: flex; flex-direction: column; gap: 4px; }
  .summary-label {
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--color-text-muted);
  }
  .summary-value {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--color-text);
  }

  .content-section {
    max-width: 800px;
    line-height: 1.8;
  }
  .content-section h2 {
    font-size: 1.3rem;
    margin: 32px 0 12px;
    padding-top: 16px;
    border-top: 1px solid var(--color-border);
  }
  .content-section h2:first-child { border-top: none; margin-top: 0; }
  .content-section h3 {
    font-size: 1.1rem;
    margin: 24px 0 8px;
  }
  .content-section p { margin-bottom: 12px; }
  .content-section ul, .content-section ol {
    margin: 0 0 16px 24px;
  }
  .content-section li { margin-bottom: 6px; }

  @media (max-width: 640px) {
    .calc-inputs { grid-template-columns: 1fr; }
    .result-cards { grid-template-columns: 1fr; }
    .summary-bar { flex-direction: column; gap: 12px; }
  }
</style>

<script>
  function formatCurrency(n: number): string {
    return '$' + n.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
  }

  // 2024 Federal Tax Brackets
  const federalBrackets = {
    single: [
      { min: 0, max: 11600, rate: 0.10 },
      { min: 11600, max: 47150, rate: 0.12 },
      { min: 47150, max: 100525, rate: 0.22 },
      { min: 100525, max: 191950, rate: 0.24 },
      { min: 191950, max: 243725, rate: 0.32 },
      { min: 243725, max: 609350, rate: 0.35 },
      { min: 609350, max: Infinity, rate: 0.37 },
    ],
    married: [
      { min: 0, max: 23200, rate: 0.10 },
      { min: 23200, max: 94300, rate: 0.12 },
      { min: 94300, max: 201050, rate: 0.22 },
      { min: 201050, max: 383900, rate: 0.24 },
      { min: 383900, max: 487450, rate: 0.32 },
      { min: 487450, max: 731200, rate: 0.35 },
      { min: 731200, max: Infinity, rate: 0.37 },
    ],
    hoh: [
      { min: 0, max: 16550, rate: 0.10 },
      { min: 16550, max: 63100, rate: 0.12 },
      { min: 63100, max: 100500, rate: 0.22 },
      { min: 100500, max: 191950, rate: 0.24 },
      { min: 191950, max: 243725, rate: 0.32 },
      { min: 243725, max: 609350, rate: 0.35 },
      { min: 609350, max: Infinity, rate: 0.37 },
    ],
  };

  const standardDeductions: Record<string, number> = {
    single: 14600,
    married: 29200,
    hoh: 21900,
  };

  function calculateFederalTax(taxableIncome: number, brackets: { min: number; max: number; rate: number }[]): number {
    let tax = 0;
    for (const bracket of brackets) {
      if (taxableIncome <= bracket.min) break;
      const taxableInBracket = Math.min(taxableIncome, bracket.max) - bracket.min;
      tax += taxableInBracket * bracket.rate;
    }
    return tax;
  }

  function calculateSocialSecurity(grossSalary: number): number {
    const wageBase = 168600;
    const rate = 0.062;
    return Math.min(grossSalary, wageBase) * rate;
  }

  function calculateMedicare(grossSalary: number): number {
    const baseRate = 0.0145;
    const surtaxThreshold = 200000;
    const surtaxRate = 0.009;
    let tax = grossSalary * baseRate;
    if (grossSalary > surtaxThreshold) {
      tax += (grossSalary - surtaxThreshold) * surtaxRate;
    }
    return tax;
  }

  function calculate(): void {
    const grossSalary = parseFloat((document.getElementById('annualSalary') as HTMLInputElement).value) || 0;
    const payPeriods = parseInt((document.getElementById('payFrequency') as HTMLSelectElement).value) || 26;
    const filingStatus = (document.getElementById('filingStatus') as HTMLSelectElement).value;
    const stateSelect = document.getElementById('state') as HTMLSelectElement;
    const stateRate = parseFloat(stateSelect.value) || 0;

    // Calculate standard deduction and taxable income
    const stdDeduction = standardDeductions[filingStatus] || 14600;
    const taxableIncome = Math.max(0, grossSalary - stdDeduction);

    // Federal income tax
    const brackets = federalBrackets[filingStatus as keyof typeof federalBrackets] || federalBrackets.single;
    const federalTax = calculateFederalTax(taxableIncome, brackets);

    // State income tax (simplified flat rate on taxable income)
    const stateTax = taxableIncome * stateRate;

    // Social Security
    const socialSecurity = calculateSocialSecurity(grossSalary);

    // Medicare
    const medicare = calculateMedicare(grossSalary);

    // Total deductions and net pay
    const totalDeductions = federalTax + stateTax + socialSecurity + medicare;
    const netAnnual = grossSalary - totalDeductions;

    // Per-period amounts
    const grossPeriod = grossSalary / payPeriods;
    const fedTaxPeriod = federalTax / payPeriods;
    const stateTaxPeriod = stateTax / payPeriods;
    const ssPeriod = socialSecurity / payPeriods;
    const medicarePeriod = medicare / payPeriods;
    const netPeriod = netAnnual / payPeriods;

    // Effective tax rate
    const effectiveRate = grossSalary > 0 ? (totalDeductions / grossSalary) * 100 : 0;

    // Update annual breakdown
    document.getElementById('grossAnnual')!.textContent = formatCurrency(grossSalary);
    document.getElementById('fedTaxAnnual')!.textContent = formatCurrency(federalTax);
    document.getElementById('stateTaxAnnual')!.textContent = formatCurrency(stateTax);
    document.getElementById('ssAnnual')!.textContent = formatCurrency(socialSecurity);
    document.getElementById('medicareAnnual')!.textContent = formatCurrency(medicare);
    document.getElementById('netAnnual')!.textContent = formatCurrency(netAnnual);

    // Update per-period breakdown
    document.getElementById('grossPeriod')!.textContent = formatCurrency(grossPeriod);
    document.getElementById('fedTaxPeriod')!.textContent = formatCurrency(fedTaxPeriod);
    document.getElementById('stateTaxPeriod')!.textContent = formatCurrency(stateTaxPeriod);
    document.getElementById('ssPeriod')!.textContent = formatCurrency(ssPeriod);
    document.getElementById('medicarePeriod')!.textContent = formatCurrency(medicarePeriod);
    document.getElementById('netPeriod')!.textContent = formatCurrency(netPeriod);

    // Update summary
    document.getElementById('effectiveRate')!.textContent = effectiveRate.toFixed(1) + '%';
    document.getElementById('totalDeductions')!.textContent = formatCurrency(totalDeductions);
  }

  document.getElementById('calculateBtn')?.addEventListener('click', calculate);
  // Auto-calculate on load
  calculate();
</script>
