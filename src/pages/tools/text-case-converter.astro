---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';
import { getToolBySlug } from '../../data/tools';
import '../../styles/tool.css';

const tool = getToolBySlug('text-case-converter')!;

const structuredData = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://toolcalcs.com/" },
    { "@type": "ListItem", "position": 2, "name": "Web Tools", "item": "https://toolcalcs.com/tools/" },
    { "@type": "ListItem", "position": 3, "name": "Text Case Converter" }
  ]
};
---

<BaseLayout
  title={`${tool.title} - Convert Text Case Online Free | ToolCalcs`}
  description={tool.description}
  structuredData={structuredData}
>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo; <a href="/tools/">Web Tools</a> &rsaquo; <span>Text Case Converter</span>
  </nav>

  <h1>{tool.title}</h1>
  <p class="page-desc">{tool.description}</p>

  <div class="tool-box">
    <div class="tool-input-area">
      <label class="tool-label" for="toolInput">Input Text</label>
      <textarea id="toolInput" class="tool-textarea" placeholder="Type or paste your text here..." rows="8"></textarea>
    </div>

    <div class="tool-controls case-grid">
      <button class="tool-btn secondary" data-case="upper" type="button">UPPERCASE</button>
      <button class="tool-btn secondary" data-case="lower" type="button">lowercase</button>
      <button class="tool-btn secondary" data-case="title" type="button">Title Case</button>
      <button class="tool-btn secondary" data-case="sentence" type="button">Sentence case</button>
      <button class="tool-btn secondary" data-case="camel" type="button">camelCase</button>
      <button class="tool-btn secondary" data-case="pascal" type="button">PascalCase</button>
      <button class="tool-btn secondary" data-case="snake" type="button">snake_case</button>
      <button class="tool-btn secondary" data-case="kebab" type="button">kebab-case</button>
      <button class="tool-btn secondary" data-case="constant" type="button">CONSTANT_CASE</button>
      <button class="tool-btn secondary" data-case="dot" type="button">dot.case</button>
      <button class="tool-btn secondary" data-case="alternating" type="button">aLtErNaTiNg cAsE</button>
      <button class="tool-btn secondary" data-case="inverse" type="button">iNVERSE cASE</button>
    </div>

    <div class="tool-output-area">
      <div class="output-header">
        <label class="tool-label" for="toolOutput">Output</label>
        <button class="copy-btn" id="copyBtn" type="button">Copy</button>
      </div>
      <textarea id="toolOutput" class="tool-textarea" readonly rows="8"></textarea>
    </div>

    <div class="text-stats" id="textStats">
      <span><strong id="charCount">0</strong> characters</span>
      <span><strong id="wordCount">0</strong> words</span>
      <span><strong id="sentenceCount">0</strong> sentences</span>
    </div>
  </div>

  <AdUnit slot="tool-mid" format="horizontal" />

  <article class="content-section">
    <h2>What Is a Text Case Converter?</h2>
    <p>
      A text case converter is a utility that transforms text between different capitalization styles. Whether you need to convert a heading to title case, reformat a variable name to camelCase, or normalize an entire block of text to lowercase, a case converter handles it in a single click. This tool supports twelve distinct case formats used across writing, programming, and data entry, so you never have to retype or manually edit capitalization again.
    </p>

    <h2>When to Use Each Text Case</h2>

    <h3>UPPERCASE and lowercase</h3>
    <p>
      UPPERCASE is ideal for acronyms, headings in certain style guides, and any context where you want maximum emphasis. Lowercase is the default for body text in most languages and is commonly used in URLs, email addresses, and programming identifiers where case sensitivity matters. If you are cleaning up text that was accidentally typed with Caps Lock on, converting to lowercase is the quickest fix.
    </p>

    <h3>Title Case</h3>
    <p>
      Title case capitalizes the first letter of every major word while keeping minor words like "a," "an," "the," "in," "on," "at," and "for" in lowercase unless they appear at the start of the title. It is the standard for book titles, article headlines, and presentation slides in most English-language style guides including AP, APA, and Chicago. Using a converter ensures consistency, especially in long documents with dozens of headings.
    </p>

    <h3>Sentence Case</h3>
    <p>
      Sentence case capitalizes only the first letter of each sentence and leaves everything else in lowercase, aside from proper nouns. It is widely used in UI labels, email subject lines, and web copy because it reads more naturally than title case. Many modern design systems, including Material Design and Apple's Human Interface Guidelines, recommend sentence case for buttons and menu items.
    </p>

    <h3>camelCase and PascalCase</h3>
    <p>
      camelCase joins multiple words together with no spaces, capitalizing each word after the first. It is the dominant naming convention for variables and functions in JavaScript, Java, TypeScript, and Swift. PascalCase follows the same pattern but capitalizes the first word as well. It is the standard for class names in most object-oriented languages and for React component names. Converting between these formats by hand is tedious and error-prone, making an automated converter essential for developers.
    </p>

    <h3>snake_case and CONSTANT_CASE</h3>
    <p>
      snake_case separates words with underscores and uses all lowercase letters. It is the preferred naming convention in Python, Ruby, Rust, and database column names. CONSTANT_CASE is the all-uppercase version of snake_case and is used for constants and environment variables in virtually every programming language. When migrating code between languages or refactoring variable names, quick conversion between these formats saves considerable time.
    </p>

    <h3>kebab-case and dot.case</h3>
    <p>
      kebab-case separates words with hyphens and is the standard for CSS class names, URL slugs, and many configuration file keys. dot.case uses periods as separators and appears in Java package names, property keys in configuration files, and object path notation. Both are easy for humans to read and are enforced by linters in many projects.
    </p>

    <h3>Alternating cAsE and Inverse cASE</h3>
    <p>
      Alternating case applies uppercase and lowercase to every other character, producing a distinctive visual pattern often used in memes and informal online communication. Inverse case swaps the existing capitalization of each character, turning uppercase letters to lowercase and vice versa. While these formats are less common in professional settings, they can be useful for testing how software handles mixed-case input or for creative and humorous purposes.
    </p>

    <h2>How This Tool Works</h2>
    <p>
      Paste or type your text in the input area, then click the button for the case format you need. The converted text appears instantly in the output area, ready to be copied to your clipboard with a single click. The tool also displays live character, word, and sentence counts so you can monitor text length as you work. All processing happens in your browser, meaning your text is never sent to a server and your privacy is fully protected.
    </p>

    <h2>Tips for Better Results</h2>
    <ul>
      <li>For camelCase, PascalCase, snake_case, kebab-case, dot.case, and CONSTANT_CASE, the tool splits your input on spaces, hyphens, underscores, dots, and existing camelCase boundaries. Feed it plain English phrases for the cleanest output.</li>
      <li>Title case follows common English conventions for small words. If your style guide treats different words as minor, review the output and adjust as needed.</li>
      <li>Sentence case relies on punctuation marks (periods, exclamation points, and question marks) to detect sentence boundaries. Ensure your input is properly punctuated for accurate results.</li>
      <li>Use the character and word counts to check that your text fits within platform limits such as meta description length or tweet character caps.</li>
    </ul>
  </article>

  <AdUnit slot="tool-bottom" format="horizontal" />
</BaseLayout>

<style>
  .case-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 8px;
    margin: 16px 0;
  }
  .case-grid .tool-btn {
    width: 100%;
    text-align: center;
    white-space: nowrap;
    font-size: 0.85rem;
    padding: 10px 12px;
  }
  .case-grid .tool-btn.active {
    background: var(--color-primary);
    color: #fff;
    border-color: var(--color-primary);
  }
  .text-stats {
    display: flex;
    gap: 20px;
    margin-top: 12px;
    font-size: 0.85rem;
    color: var(--color-text-muted);
  }
  @media (max-width: 640px) {
    .case-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
</style>

<script>
  const input = document.getElementById('toolInput') as HTMLTextAreaElement;
  const output = document.getElementById('toolOutput') as HTMLTextAreaElement;
  const copyBtn = document.getElementById('copyBtn') as HTMLButtonElement;
  const charCount = document.getElementById('charCount') as HTMLElement;
  const wordCount = document.getElementById('wordCount') as HTMLElement;
  const sentenceCount = document.getElementById('sentenceCount') as HTMLElement;
  const caseButtons = document.querySelectorAll<HTMLButtonElement>('[data-case]');

  // --- Small words for title case ---
  const SMALL_WORDS = new Set([
    'a', 'an', 'the', 'and', 'but', 'or', 'nor', 'for', 'yet', 'so',
    'in', 'on', 'at', 'to', 'by', 'up', 'as', 'of', 'if', 'is', 'it',
    'vs', 'via', 'per'
  ]);

  // --- Utility: split text into words for programmatic cases ---
  function splitWords(text: string): string[] {
    // Handle camelCase / PascalCase boundaries
    let normalized = text.replace(/([a-z])([A-Z])/g, '$1 $2');
    // Replace common separators with space
    normalized = normalized.replace(/[_\-.\s]+/g, ' ');
    return normalized.trim().split(/\s+/).filter(Boolean);
  }

  // --- Conversion functions ---
  function toUpper(text: string): string {
    return text.toUpperCase();
  }

  function toLower(text: string): string {
    return text.toLowerCase();
  }

  function toTitleCase(text: string): string {
    return text.replace(/\S+/g, (word, index) => {
      if (index > 0 && SMALL_WORDS.has(word.toLowerCase())) {
        return word.toLowerCase();
      }
      return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
    });
  }

  function toSentenceCase(text: string): string {
    return text.toLowerCase().replace(/(^\s*\w|[.!?]\s+\w)/g, (match) => match.toUpperCase());
  }

  function toCamelCase(text: string): string {
    const words = splitWords(text);
    if (words.length === 0) return '';
    return words[0].toLowerCase() + words.slice(1).map(w => w.charAt(0).toUpperCase() + w.slice(1).toLowerCase()).join('');
  }

  function toPascalCase(text: string): string {
    return splitWords(text).map(w => w.charAt(0).toUpperCase() + w.slice(1).toLowerCase()).join('');
  }

  function toSnakeCase(text: string): string {
    return splitWords(text).map(w => w.toLowerCase()).join('_');
  }

  function toKebabCase(text: string): string {
    return splitWords(text).map(w => w.toLowerCase()).join('-');
  }

  function toConstantCase(text: string): string {
    return splitWords(text).map(w => w.toUpperCase()).join('_');
  }

  function toDotCase(text: string): string {
    return splitWords(text).map(w => w.toLowerCase()).join('.');
  }

  function toAlternatingCase(text: string): string {
    let i = 0;
    return text.split('').map((char) => {
      if (/[a-zA-Z]/.test(char)) {
        return (i++ % 2 === 0) ? char.toLowerCase() : char.toUpperCase();
      }
      return char;
    }).join('');
  }

  function toInverseCase(text: string): string {
    return text.split('').map((char) => {
      if (char === char.toUpperCase()) return char.toLowerCase();
      if (char === char.toLowerCase()) return char.toUpperCase();
      return char;
    }).join('');
  }

  // --- Map case names to functions ---
  const converters: Record<string, (text: string) => string> = {
    upper: toUpper,
    lower: toLower,
    title: toTitleCase,
    sentence: toSentenceCase,
    camel: toCamelCase,
    pascal: toPascalCase,
    snake: toSnakeCase,
    kebab: toKebabCase,
    constant: toConstantCase,
    dot: toDotCase,
    alternating: toAlternatingCase,
    inverse: toInverseCase,
  };

  // --- Button click handlers ---
  caseButtons.forEach((btn) => {
    btn.addEventListener('click', () => {
      const caseType = btn.getAttribute('data-case');
      if (!caseType || !converters[caseType]) return;

      const text = input.value;
      if (!text.trim()) {
        output.value = '';
        return;
      }

      output.value = converters[caseType](text);

      // Highlight active button
      caseButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    });
  });

  // --- Copy button ---
  copyBtn.addEventListener('click', () => {
    const text = output.value;
    if (!text) return;

    navigator.clipboard.writeText(text).then(() => {
      copyBtn.textContent = 'Copied!';
      copyBtn.classList.add('copied');
      setTimeout(() => {
        copyBtn.textContent = 'Copy';
        copyBtn.classList.remove('copied');
      }, 2000);
    }).catch(() => {
      // Fallback for older browsers
      output.select();
      document.execCommand('copy');
      copyBtn.textContent = 'Copied!';
      copyBtn.classList.add('copied');
      setTimeout(() => {
        copyBtn.textContent = 'Copy';
        copyBtn.classList.remove('copied');
      }, 2000);
    });
  });

  // --- Live text stats ---
  function updateStats(): void {
    const text = input.value;
    const chars = text.length;
    const words = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
    const sentences = text.trim() === '' ? 0 : (text.match(/[.!?]+(?:\s|$)/g) || []).length;

    charCount.textContent = String(chars);
    wordCount.textContent = String(words);
    sentenceCount.textContent = String(sentences);
  }

  input.addEventListener('input', updateStats);
  updateStats();
</script>
