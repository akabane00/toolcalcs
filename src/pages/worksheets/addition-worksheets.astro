---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';
import { getWorksheetBySlug } from '../../data/worksheets';
import '../../styles/worksheet.css';

const ws = getWorksheetBySlug('addition-worksheets')!;

const structuredData = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://toolcalcs.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Worksheets",
      "item": "https://toolcalcs.com/worksheets/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Addition Worksheets"
    }
  ]
};
---

<BaseLayout
  title="Free Addition Worksheets - Printable Math Practice | ToolCalcs"
  description={ws.description}
  type="article"
  structuredData={structuredData}
>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo;
    <a href="/worksheets/">Worksheets</a> &rsaquo;
    <span>Addition Worksheets</span>
  </nav>

  <h1>{ws.title}</h1>
  <p class="page-desc">{ws.description}</p>

  <div class="worksheet-box">
    <div class="config-panel">
      <h3>Settings</h3>
      <div class="config-inputs">
        <div class="config-group">
          <label for="cfgProblems">Number of Problems</label>
          <input type="number" id="cfgProblems" value="20" min="5" max="50" />
        </div>
        <div class="config-group">
          <label for="cfgMaxDigits">Max Digits</label>
          <select id="cfgMaxDigits">
            <option value="1">1 Digit (0-9)</option>
            <option value="2">2 Digits (10-99)</option>
            <option value="3">3 Digits (100-999)</option>
          </select>
        </div>
        <div class="config-group">
          <label for="cfgCarry">Allow Carrying</label>
          <select id="cfgCarry">
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>
        </div>
      </div>
    </div>

    <div class="worksheet-actions">
      <button class="ws-btn primary" id="btnGenerate">Generate New</button>
      <button class="ws-btn print" id="btnPrint">Print</button>
      <label class="toggle-label">
        <input type="checkbox" id="toggleAnswers" />
        Show Answers
      </label>
    </div>

    <div class="worksheet-content" id="worksheetContent">
      <div class="worksheet-header-print">
        <h2>Addition Practice</h2>
        <div class="name-date">
          <span>Name: ___________________</span>
          <span>Date: ___________________</span>
        </div>
      </div>
      <div class="problem-grid" id="problemGrid"></div>
      <div class="answer-key hidden" id="answerKey">
        <h3>Answer Key</h3>
        <div class="answer-grid" id="answerGrid"></div>
      </div>
    </div>
  </div>

  <AdUnit slot="ws-mid" format="rectangle" />

  <article class="content-section">
    <h2>Why Addition Practice Matters</h2>
    <p>Addition is the first fundamental arithmetic operation that children learn, and it forms the foundation for all higher-level mathematics. Building strong addition skills early on gives students the confidence and fluency they need to tackle subtraction, multiplication, division, fractions, and algebra in later grades. Regular practice with addition worksheets helps students move from counting on their fingers to instantly recalling basic addition facts, a skill known as math fact fluency.</p>
    <p>Research consistently shows that students who achieve automaticity with basic math facts perform better in more advanced mathematics. When a child no longer has to think about what 7 + 8 equals, they can devote their mental energy to understanding more complex problems. These free printable addition worksheets are designed to provide the repetitive, structured practice that builds this kind of fluency.</p>

    <h2>Grade-Level Guide for Addition Worksheets</h2>
    <h3>Kindergarten (Ages 5-6)</h3>
    <p>Kindergartners are just beginning their addition journey. Start with single-digit problems where both addends are between 0 and 5, and the sum does not exceed 10. At this stage, children benefit from using manipulatives such as blocks, counters, or their fingers alongside written worksheets. Use the "No Carrying" setting with 1-digit problems and a smaller number of problems (10-15) to keep sessions short and positive.</p>

    <h3>First Grade (Ages 6-7)</h3>
    <p>First graders work toward mastering all single-digit addition facts with sums up to 20. They begin to understand the commutative property of addition (that 3 + 5 is the same as 5 + 3) and start solving simple word problems. Use the 1-digit setting with carrying allowed to include sums above 9. Gradually increase the number of problems as your child builds stamina and confidence.</p>

    <h3>Second Grade (Ages 7-8)</h3>
    <p>Second graders move into two-digit addition. They learn to add numbers in columns, starting with problems that do not require regrouping (carrying) before progressing to problems that do. Use the 2-digit setting and toggle carrying on or off depending on your child's readiness. Problems without carrying help students understand place value before introducing the extra step of regrouping.</p>

    <h3>Third Grade (Ages 8-9)</h3>
    <p>Third graders practice three-digit addition with and without regrouping. They also work on adding multiple numbers and begin estimating sums using rounding. Use the 3-digit setting with carrying allowed for a full challenge, or turn carrying off to focus on place-value alignment and column addition without the added complexity of regrouping.</p>

    <h2>Tips for Parents and Teachers</h2>
    <p>Getting the most out of addition worksheets requires more than simply printing pages and handing them to a child. Here are practical strategies to make practice sessions effective and enjoyable.</p>
    <ul>
      <li><strong>Keep sessions short.</strong> Five to ten minutes of focused practice is more effective than thirty minutes of frustrated work. Use the problem count setting to generate appropriately sized worksheets.</li>
      <li><strong>Start with success.</strong> Choose a difficulty level where your child can get most problems correct. Confidence builds motivation, and motivation drives practice.</li>
      <li><strong>Use the no-carrying option strategically.</strong> When introducing multi-digit addition, start with no-carrying problems to ensure your child understands place value and column alignment before adding regrouping.</li>
      <li><strong>Mix it up.</strong> Alternate between horizontal format (single-digit) and vertical format (multi-digit) problems so students are comfortable with both layouts.</li>
      <li><strong>Time gently.</strong> Once your child is comfortable with a difficulty level, try timing the worksheet. The goal is not speed for its own sake but building automaticity. Keep timing lighthearted and focus on personal improvement rather than arbitrary benchmarks.</li>
      <li><strong>Review mistakes together.</strong> Use the Show Answers toggle to check work together. When a problem is wrong, work through it step by step to identify whether the error was in basic fact recall or in the regrouping process.</li>
      <li><strong>Print fresh worksheets often.</strong> Because this generator creates new random problems every time, there is always a fresh set available. Repeating the same worksheet is less effective than practicing with new problems at the same difficulty level.</li>
    </ul>

    <h2>Understanding Carrying (Regrouping) in Addition</h2>
    <p>Carrying, also called regrouping, is the process of moving a value from one place-value column to the next when the sum of digits in a column is 10 or greater. For example, when adding 27 + 35, the ones column produces 7 + 5 = 12. The 2 stays in the ones place, and the 1 is "carried" to the tens column. Understanding this concept is a crucial milestone in a child's mathematical development.</p>
    <p>These worksheets let you control whether carrying is required. Problems without carrying are ideal for students who are first learning column addition, since they can focus on aligning digits and adding each column without the extra cognitive step of regrouping. Once column addition is comfortable, switch to problems that include carrying to build the full skill set.</p>

    <h2>How to Use These Addition Worksheets</h2>
    <p>Select your preferred settings using the controls above. Choose the number of problems, the digit range, and whether to allow carrying. Click "Generate New" to create a fresh set of problems. Use the "Print" button to produce a clean, printer-friendly version with the settings panel and navigation hidden. Toggle "Show Answers" to reveal the solutions for quick grading, and use the answer key at the bottom for reference. Each time you click "Generate New," an entirely new set of random problems is created, giving you an unlimited supply of practice material at no cost.</p>

    <h2>Related Worksheets</h2>
    <ul>
      <li><a href="/worksheets/subtraction-worksheets/">Subtraction Worksheets</a> - Practice subtraction facts and multi-digit subtraction.</li>
      <li><a href="/worksheets/multiplication-worksheets/">Multiplication Worksheets</a> - Times tables and multi-digit multiplication practice.</li>
      <li><a href="/worksheets/skip-counting/">Skip Counting Worksheets</a> - Count by 2s, 5s, 10s, and more.</li>
    </ul>
  </article>

  <AdUnit slot="ws-bottom" format="horizontal" />
</BaseLayout>

<script is:inline>
  var problems = [];

  function getRange(maxDigits) {
    if (maxDigits === '1') return { min: 0, max: 9 };
    if (maxDigits === '2') return { min: 10, max: 99 };
    return { min: 100, max: 999 };
  }

  function hasCarry(a, b) {
    // Check each digit position for carrying
    while (a > 0 || b > 0) {
      if ((a % 10) + (b % 10) >= 10) return true;
      a = Math.floor(a / 10);
      b = Math.floor(b / 10);
    }
    return false;
  }

  function generateNoCarryPair(range) {
    // For 1-digit: both must sum < 10
    // For multi-digit: no column can carry
    var attempts = 0;
    while (attempts < 500) {
      var a = Math.floor(Math.random() * (range.max - range.min + 1)) + range.min;
      var b = Math.floor(Math.random() * (range.max - range.min + 1)) + range.min;
      if (!hasCarry(a, b)) return { a: a, b: b };
      attempts++;
    }
    // Fallback: build a safe pair digit by digit
    return buildSafeNoCarryPair(range);
  }

  function buildSafeNoCarryPair(range) {
    var digits = String(range.max).length;
    var aStr = '';
    var bStr = '';
    for (var i = 0; i < digits; i++) {
      var maxDigit = (i === 0 && digits > 1) ? 9 : 9;
      var minDigit = (i === 0 && digits > 1) ? 1 : 0;
      var da = Math.floor(Math.random() * (maxDigit - minDigit + 1)) + minDigit;
      var dbMax = 9 - da;
      if (i === 0 && digits > 1) dbMax = Math.min(dbMax, 9);
      var dbMin = (i === 0 && digits > 1) ? 1 : 0;
      if (dbMin > dbMax) dbMin = 0;
      var db = Math.floor(Math.random() * (dbMax - dbMin + 1)) + dbMin;
      aStr += da;
      bStr += db;
    }
    var a = parseInt(aStr, 10);
    var b = parseInt(bStr, 10);
    // Ensure within range
    if (a < range.min) a = range.min;
    if (b < range.min) b = range.min;
    return { a: a, b: b };
  }

  function generateProblems() {
    var count = parseInt(document.getElementById('cfgProblems').value, 10);
    var maxDigits = document.getElementById('cfgMaxDigits').value;
    var allowCarry = document.getElementById('cfgCarry').value === 'yes';
    var range = getRange(maxDigits);

    if (isNaN(count) || count < 5) count = 5;
    if (count > 50) count = 50;

    problems = [];
    for (var i = 0; i < count; i++) {
      var a, b;
      if (!allowCarry) {
        var pair = generateNoCarryPair(range);
        a = pair.a;
        b = pair.b;
      } else {
        a = Math.floor(Math.random() * (range.max - range.min + 1)) + range.min;
        b = Math.floor(Math.random() * (range.max - range.min + 1)) + range.min;
      }
      problems.push({ a: a, b: b, answer: a + b });
    }

    renderProblems();
    renderAnswerKey();
    updateAnswerVisibility();
  }

  function renderProblems() {
    var maxDigits = document.getElementById('cfgMaxDigits').value;
    var grid = document.getElementById('problemGrid');
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var html = '';

    for (var i = 0; i < problems.length; i++) {
      var p = problems[i];
      html += '<div class="problem">';
      html += '<div class="problem-number">' + (i + 1) + ')</div>';

      if (maxDigits === '1') {
        // Horizontal format for single-digit
        html += '<div class="problem-text">' + p.a + ' + ' + p.b + ' =</div>';
        html += '<div class="problem-answer' + (showAnswers ? ' revealed' : '') + '">';
        html += showAnswers ? p.answer : '___';
        html += '</div>';
      } else {
        // Vertical format for multi-digit
        var maxLen = Math.max(String(p.a).length, String(p.b).length, String(p.answer).length);
        var aStr = String(p.a).padStart(maxLen, '\u00A0');
        var bStr = '+ ' + String(p.b).padStart(maxLen - 2, '\u00A0');
        if (maxLen <= 2) bStr = '+ ' + p.b;

        html += '<div class="problem-vertical">';
        html += '<div>' + aStr + '</div>';
        html += '<div class="operator">' + bStr + '</div>';
        html += '<div class="line"></div>';
        html += '<div class="problem-answer' + (showAnswers ? ' revealed' : '') + '">';
        html += showAnswers ? p.answer : '';
        html += '</div>';
        html += '</div>';
      }

      html += '</div>';
    }

    grid.innerHTML = html;
  }

  function renderAnswerKey() {
    var answerGrid = document.getElementById('answerGrid');
    var html = '';
    for (var i = 0; i < problems.length; i++) {
      html += '<div class="answer-item">';
      html += '<span class="q">' + (i + 1) + '.</span>';
      html += '<span class="a">' + problems[i].answer + '</span>';
      html += '</div>';
    }
    answerGrid.innerHTML = html;
  }

  function updateAnswerVisibility() {
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var answerKey = document.getElementById('answerKey');

    if (showAnswers) {
      answerKey.classList.remove('hidden');
    } else {
      answerKey.classList.add('hidden');
    }

    // Re-render problems to update inline answers
    renderProblems();
  }

  // Event listeners
  document.getElementById('btnGenerate').addEventListener('click', generateProblems);

  document.getElementById('btnPrint').addEventListener('click', function () {
    window.print();
  });

  document.getElementById('toggleAnswers').addEventListener('change', updateAnswerVisibility);

  // Generate on load
  generateProblems();
</script>
