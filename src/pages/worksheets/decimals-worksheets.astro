---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';
import { getWorksheetBySlug } from '../../data/worksheets';
import '../../styles/worksheet.css';

const ws = getWorksheetBySlug('decimals-worksheets')!;

const structuredData = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://toolcalcs.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Worksheets",
      "item": "https://toolcalcs.com/worksheets/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Decimals Worksheets"
    }
  ]
};
---

<BaseLayout
  title="Free Decimals Worksheets - Printable Math Practice | ToolCalcs"
  description={ws.description}
  type="article"
  structuredData={structuredData}
>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo;
    <a href="/worksheets/">Worksheets</a> &rsaquo;
    <span>Decimals Worksheets</span>
  </nav>

  <h1>{ws.title}</h1>
  <p class="page-desc">{ws.description}</p>

  <div class="worksheet-box">
    <div class="config-panel">
      <h3>Settings</h3>
      <div class="config-inputs">
        <div class="config-group">
          <label for="cfgProblems">Number of Problems</label>
          <input type="number" id="cfgProblems" value="15" min="5" max="30" />
        </div>
        <div class="config-group">
          <label for="cfgType">Problem Type</label>
          <select id="cfgType">
            <option value="addSub">Add &amp; Subtract</option>
            <option value="multiply">Multiply</option>
            <option value="divide">Divide</option>
            <option value="placeValue">Place Value</option>
            <option value="compare">Compare Decimals</option>
          </select>
        </div>
        <div class="config-group">
          <label for="cfgPlaces">Decimal Places</label>
          <select id="cfgPlaces">
            <option value="1">1 Place (0.1)</option>
            <option value="2" selected>2 Places (0.01)</option>
            <option value="3">3 Places (0.001)</option>
          </select>
        </div>
      </div>
    </div>

    <div class="worksheet-actions">
      <button class="ws-btn primary" id="btnGenerate">Generate New</button>
      <button class="ws-btn print" id="btnPrint">Print</button>
      <label class="toggle-label">
        <input type="checkbox" id="toggleAnswers" />
        Show Answers
      </label>
    </div>

    <div class="worksheet-content" id="worksheetContent">
      <div class="worksheet-header-print">
        <h2>Decimals Practice</h2>
        <div class="name-date">
          <span>Name: ___________________</span>
          <span>Date: ___________________</span>
        </div>
      </div>
      <div class="problem-grid" id="problemGrid"></div>
      <div class="answer-key hidden" id="answerKey">
        <h3>Answer Key</h3>
        <div class="answer-grid" id="answerGrid"></div>
      </div>
    </div>
  </div>

  <AdUnit slot="ws-mid" format="rectangle" />

  <article class="content-section">
    <h2>Understanding Decimals</h2>
    <p>Decimals are a way of writing numbers that fall between whole numbers. They use a decimal point to separate the whole number part from the fractional part. For example, 3.45 means 3 whole units plus 45 hundredths. Decimals extend the place value system to the right of the ones place: tenths (0.1), hundredths (0.01), and thousandths (0.001). This system is used constantly in everyday life for money, measurements, scores, and scientific data.</p>
    <p>These free printable decimals worksheets provide practice with decimal arithmetic, place value identification, and comparison. Every worksheet is randomly generated so students always have fresh problems to work with.</p>

    <h2>Types of Decimal Problems</h2>
    <h3>Addition and Subtraction</h3>
    <p>Adding and subtracting decimals follows the same column method as whole numbers, with one critical rule: align the decimal points vertically. Once the decimal points are aligned, add or subtract each column from right to left, carrying or borrowing as needed. The decimal point in the answer goes directly below the decimal points in the problem. Students often make errors by forgetting to align the decimals, so worksheets that practice this skill are essential.</p>

    <h3>Multiplication</h3>
    <p>Multiplying decimals begins by ignoring the decimal points and multiplying as if the numbers were whole numbers. Then count the total number of decimal places in both factors and place the decimal point in the product that many places from the right. For example, 2.5 &times; 1.3: multiply 25 &times; 13 = 325, then place the decimal 2 places from the right to get 3.25.</p>

    <h3>Division</h3>
    <p>Dividing decimals often involves making the divisor a whole number by moving the decimal point to the right, then moving the dividend's decimal point the same number of places. This simplifies the problem to dividing by a whole number. The decimal point in the quotient goes directly above where it sits in the adjusted dividend.</p>

    <h3>Place Value</h3>
    <p>Decimal place value problems ask students to identify which digit occupies a specific position. For example, in 4.738, the digit 7 is in the tenths place, 3 is in the hundredths place, and 8 is in the thousandths place. Understanding place value is critical for rounding decimals, comparing decimals, and performing operations accurately.</p>

    <h3>Comparing Decimals</h3>
    <p>Comparing decimals requires examining digits from left to right, place by place, just like comparing whole numbers. A common mistake is thinking that 0.45 is greater than 0.5 because 45 is greater than 5. Aligning decimal places (0.45 vs. 0.50) makes the comparison clearer. Use the &gt;, &lt;, and = symbols to express the relationship.</p>

    <h2>Grade-Level Guide</h2>
    <h3>Fourth Grade (Ages 9-10)</h3>
    <p>Fourth graders are introduced to decimals through money and measurement contexts. They learn to read and write decimals to the hundredths place and compare them. Start with 1-2 decimal places and focus on place value and comparison problems before moving to operations.</p>

    <h3>Fifth Grade (Ages 10-11)</h3>
    <p>Fifth graders perform all four operations with decimals. They add and subtract to the hundredths place, multiply decimals by whole numbers and by other decimals, and divide decimals by whole numbers. Use 2 decimal places for most practice and introduce 3-place decimals as students gain confidence.</p>

    <h3>Sixth Grade (Ages 11-12)</h3>
    <p>Sixth graders extend decimal fluency to thousandths and work with more complex multi-step problems. They also connect decimals to fractions and percentages, converting freely between representations. Use 3 decimal places and all problem types for comprehensive practice.</p>

    <h2>Tips for Teaching Decimals</h2>
    <ul>
      <li><strong>Connect to money.</strong> Dollars and cents are the most familiar decimals for students. $3.45 = 3 dollars and 45 cents makes the concept concrete and relatable.</li>
      <li><strong>Use grid models.</strong> Hundredths grids (10&times;10 squares) help students visualize decimals. Shading 0.45 of a grid makes the value tangible.</li>
      <li><strong>Emphasize decimal point alignment.</strong> The most common error in decimal addition and subtraction is misaligning the decimal points. Have students draw a vertical line through the decimal points before computing.</li>
      <li><strong>Start place value early.</strong> Before teaching operations, ensure students can identify what each digit represents. This prevents the common error of treating decimals like whole numbers.</li>
      <li><strong>Practice estimation.</strong> Before computing, have students estimate the answer. If 3.7 + 2.8 should be about 6.5, an answer of 65 signals a decimal placement error.</li>
    </ul>

    <h2>How to Use These Worksheets</h2>
    <p>Select the number of problems, problem type, and decimal places using the settings above. Click "Generate New" for a fresh worksheet. Each problem is randomly generated to provide unlimited practice. Use "Print" for a clean page and "Show Answers" to check work or reveal the answer key.</p>

    <h2>Related Worksheets</h2>
    <ul>
      <li><a href="/worksheets/fractions-worksheets/">Fractions Worksheets</a> - Practice identifying, comparing, and computing with fractions.</li>
      <li><a href="/worksheets/percentages-worksheets/">Percentages Worksheets</a> - Find percentages, percent change, and discounts.</li>
      <li><a href="/worksheets/place-value-worksheets/">Place Value Worksheets</a> - Identify digit values and expanded form.</li>
      <li><a href="/worksheets/rounding-worksheets/">Rounding Worksheets</a> - Round numbers to the nearest 10, 100, and 1,000.</li>
    </ul>
  </article>

  <AdUnit slot="ws-bottom" format="horizontal" />
</BaseLayout>

<script is:inline>
  var problems = [];

  function randInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function roundDec(n, places) {
    var f = Math.pow(10, places);
    return Math.round(n * f) / f;
  }

  function generateProblems() {
    var count = parseInt(document.getElementById('cfgProblems').value, 10);
    var type = document.getElementById('cfgType').value;
    var places = parseInt(document.getElementById('cfgPlaces').value, 10);

    if (isNaN(count) || count < 5) count = 5;
    if (count > 30) count = 30;

    var factor = Math.pow(10, places);
    var placeNames = ['', 'tenths', 'hundredths', 'thousandths'];

    problems = [];
    for (var i = 0; i < count; i++) {
      var p = {};

      if (type === 'addSub') {
        var isAdd = Math.random() < 0.5;
        var a = randInt(1, 99 * factor) / factor;
        var b = randInt(1, 99 * factor) / factor;
        if (!isAdd && a < b) { var tmp = a; a = b; b = tmp; }
        p.a = a;
        p.b = b;
        p.op = isAdd ? '+' : '\u2212';
        p.answer = roundDec(isAdd ? a + b : a - b, places);
        p.type = 'op';
        p.text = a.toFixed(places) + ' ' + p.op + ' ' + b.toFixed(places) + ' =';
        p.answerStr = p.answer.toFixed(places);
      } else if (type === 'multiply') {
        var a = randInt(2, 9);
        var b = randInt(1, 9 * factor) / factor;
        p.a = a;
        p.b = b;
        p.op = '\u00d7';
        p.answer = roundDec(a * b, places);
        p.type = 'op';
        p.text = a + ' \u00d7 ' + b.toFixed(places) + ' =';
        p.answerStr = p.answer.toFixed(places);
      } else if (type === 'divide') {
        var divisor = randInt(2, 9);
        var result = randInt(1, 9 * factor) / factor;
        var dividend = roundDec(divisor * result, places);
        p.a = dividend;
        p.b = divisor;
        p.op = '\u00f7';
        p.answer = result;
        p.type = 'op';
        p.text = dividend.toFixed(places) + ' \u00f7 ' + divisor + ' =';
        p.answerStr = result.toFixed(places);
      } else if (type === 'placeValue') {
        var whole = randInt(1, 9);
        var decPart = randInt(1, Math.pow(10, places) - 1);
        var numStr = whole + '.' + String(decPart).padStart(places, '0');
        var num = parseFloat(numStr);
        var pos = randInt(1, places);
        var digitIndex = pos;
        var digit = numStr.charAt(numStr.indexOf('.') + digitIndex);
        p.type = 'placeValue';
        p.text = 'What digit is in the ' + placeNames[pos] + ' place of ' + numStr + '?';
        p.answer = parseInt(digit, 10);
        p.answerStr = String(p.answer);
      } else if (type === 'compare') {
        var a = randInt(1, 99 * factor) / factor;
        var b;
        if (Math.random() < 0.12) {
          b = a;
        } else {
          b = randInt(1, 99 * factor) / factor;
        }
        p.a = a;
        p.b = b;
        p.type = 'compare';
        p.answer = a > b ? '>' : a < b ? '<' : '=';
        p.answerStr = p.answer;
        p.text = '';
      }

      problems.push(p);
    }

    renderProblems();
    renderAnswerKey();
    updateAnswerVisibility();
  }

  function renderProblems() {
    var grid = document.getElementById('problemGrid');
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var type = document.getElementById('cfgType').value;
    var places = parseInt(document.getElementById('cfgPlaces').value, 10);
    var html = '';

    for (var i = 0; i < problems.length; i++) {
      var p = problems[i];
      html += '<div class="problem' + (type === 'compare' ? ' cmp-problem' : '') + '">';
      html += '<div class="problem-number">' + (i + 1) + ')</div>';

      if (p.type === 'compare') {
        html += '<div class="cmp-row">';
        html += '<span class="cmp-num">' + p.a.toFixed(places) + '</span>';
        html += '<span class="cmp-box' + (showAnswers ? ' revealed' : '') + '">';
        html += showAnswers ? p.answer : '';
        html += '</span>';
        html += '<span class="cmp-num">' + p.b.toFixed(places) + '</span>';
        html += '</div>';
      } else if (p.type === 'placeValue') {
        html += '<div class="problem-text" style="font-size:0.95rem;text-align:left">' + p.text + '</div>';
        html += '<div class="problem-answer' + (showAnswers ? ' revealed' : '') + '">';
        html += showAnswers ? p.answerStr : '___';
        html += '</div>';
      } else {
        html += '<div class="problem-text">' + p.text + '</div>';
        html += '<div class="problem-answer' + (showAnswers ? ' revealed' : '') + '">';
        html += showAnswers ? p.answerStr : '___';
        html += '</div>';
      }

      html += '</div>';
    }

    grid.innerHTML = html;
  }

  function renderAnswerKey() {
    var answerGrid = document.getElementById('answerGrid');
    var html = '';
    for (var i = 0; i < problems.length; i++) {
      var p = problems[i];
      html += '<div class="answer-item">';
      html += '<span class="q">' + (i + 1) + '.</span>';
      html += '<span class="a">' + p.answerStr + '</span>';
      html += '</div>';
    }
    answerGrid.innerHTML = html;
  }

  function updateAnswerVisibility() {
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var answerKey = document.getElementById('answerKey');
    if (showAnswers) { answerKey.classList.remove('hidden'); }
    else { answerKey.classList.add('hidden'); }
    renderProblems();
  }

  document.getElementById('btnGenerate').addEventListener('click', generateProblems);
  document.getElementById('btnPrint').addEventListener('click', function () { window.print(); });
  document.getElementById('toggleAnswers').addEventListener('change', updateAnswerVisibility);
  generateProblems();
</script>

<style>
  :global(.cmp-problem) {
    align-items: center !important;
  }
  :global(.cmp-row) {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 1.15rem;
  }
  :global(.cmp-num) {
    font-weight: 600;
    min-width: 48px;
    text-align: center;
  }
  :global(.cmp-box) {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 36px;
    border: 2px solid var(--color-border);
    border-radius: 4px;
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--color-primary);
    background: #fff;
  }
  :global(.cmp-box.revealed) {
    border-color: var(--color-primary);
    background: rgba(37, 99, 235, 0.06);
  }
  @media print {
    :global(.cmp-box) { border-color: #333; }
  }
</style>
