---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';
import { getWorksheetBySlug } from '../../data/worksheets';
import '../../styles/worksheet.css';

const ws = getWorksheetBySlug('long-division-worksheets')!;

const structuredData = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://toolcalcs.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Worksheets",
      "item": "https://toolcalcs.com/worksheets/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Long Division Worksheets"
    }
  ]
};
---

<BaseLayout
  title="Free Long Division Worksheets - Printable Math Practice | ToolCalcs"
  description={ws.description}
  type="article"
  structuredData={structuredData}
>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo;
    <a href="/worksheets/">Worksheets</a> &rsaquo;
    <span>Long Division Worksheets</span>
  </nav>

  <h1>{ws.title}</h1>
  <p class="page-desc">{ws.description}</p>

  <div class="worksheet-box">
    <div class="config-panel">
      <h3>Settings</h3>
      <div class="config-inputs">
        <div class="config-group">
          <label for="cfgProblems">Number of Problems</label>
          <input type="number" id="cfgProblems" value="10" min="4" max="20" />
        </div>
        <div class="config-group">
          <label for="cfgType">Division Type</label>
          <select id="cfgType">
            <option value="2by1">2-digit &divide; 1-digit</option>
            <option value="3by1">3-digit &divide; 1-digit</option>
            <option value="3by2">3-digit &divide; 2-digit</option>
            <option value="4by2">4-digit &divide; 2-digit</option>
          </select>
        </div>
        <div class="config-group">
          <label for="cfgRemainder">Remainders</label>
          <select id="cfgRemainder">
            <option value="no">No Remainders</option>
            <option value="yes">With Remainders</option>
          </select>
        </div>
      </div>
    </div>

    <div class="worksheet-actions">
      <button class="ws-btn primary" id="btnGenerate">Generate New</button>
      <button class="ws-btn print" id="btnPrint">Print</button>
      <label class="toggle-label">
        <input type="checkbox" id="toggleAnswers" />
        Show Answers
      </label>
    </div>

    <div class="worksheet-content" id="worksheetContent">
      <div class="worksheet-header-print">
        <h2>Long Division Practice</h2>
        <div class="name-date">
          <span>Name: ___________________</span>
          <span>Date: ___________________</span>
        </div>
      </div>
      <div class="problem-grid ld-grid" id="problemGrid"></div>
      <div class="answer-key hidden" id="answerKey">
        <h3>Answer Key</h3>
        <div class="answer-grid" id="answerGrid"></div>
      </div>
    </div>
  </div>

  <AdUnit slot="ws-mid" format="rectangle" />

  <article class="content-section">
    <h2>What Is Long Division?</h2>
    <p>Long division is a step-by-step method for dividing large numbers that cannot be easily divided mentally. Unlike basic division facts (such as 12 &divide; 3 = 4), long division handles multi-digit dividends and provides a systematic way to find the quotient and any remainder. The process involves four repeating steps: divide, multiply, subtract, and bring down. Students write their work in a special bracket format that organizes each step clearly.</p>
    <p>These free printable long division worksheets present problems in the standard division bracket (house) format with plenty of workspace. Each worksheet is randomly generated, so students always have fresh problems to practice with.</p>

    <h2>The Four Steps of Long Division</h2>
    <p>Long division follows a cycle of four steps that repeats until all digits of the dividend have been processed:</p>
    <ul>
      <li><strong>Divide:</strong> Determine how many times the divisor goes into the current portion of the dividend. Write the result above the bracket.</li>
      <li><strong>Multiply:</strong> Multiply the quotient digit by the divisor and write the product below.</li>
      <li><strong>Subtract:</strong> Subtract the product from the current number to find the difference.</li>
      <li><strong>Bring down:</strong> Bring down the next digit of the dividend and repeat the process.</li>
    </ul>
    <p>When all digits have been processed, the number above the bracket is the quotient and any remaining number below is the remainder.</p>

    <h2>Grade-Level Guide</h2>
    <h3>Fourth Grade (Ages 9-10)</h3>
    <p>Fourth graders begin learning long division with single-digit divisors. Start with the "2-digit &divide; 1-digit" type and "No Remainders" to let students focus on learning the four-step process. Once the method is solid, introduce remainders and progress to three-digit dividends.</p>

    <h3>Fifth Grade (Ages 10-11)</h3>
    <p>Fifth graders extend long division to three-digit dividends divided by single-digit divisors and begin working with two-digit divisors. Use "3-digit &divide; 1-digit" and "3-digit &divide; 2-digit" settings. Two-digit divisors are significantly more challenging because students must estimate quotient digits using multiplication of larger numbers.</p>

    <h3>Sixth Grade (Ages 11-12)</h3>
    <p>Sixth graders master long division with larger numbers, including four-digit dividends and two-digit divisors. They also connect division to fractions and decimals. Use the "4-digit &divide; 2-digit" setting for advanced practice. At this level, students should be efficient with the process and able to handle remainders expressed as fractions or decimals.</p>

    <h2>Understanding Remainders</h2>
    <p>A remainder is the amount left over when a dividend does not divide evenly by the divisor. For example, 17 &divide; 5 = 3 remainder 2, because 5 &times; 3 = 15 and 17 - 15 = 2. The remainder is always less than the divisor. If the remainder equals or exceeds the divisor, the quotient needs to be increased.</p>
    <p>When using the "No Remainders" setting, all problems are generated to divide evenly, allowing students to focus on the division process itself. The "With Remainders" setting adds realistic problems where students must identify and record the leftover amount.</p>

    <h2>Tips for Teaching Long Division</h2>
    <ul>
      <li><strong>Master multiplication facts first.</strong> Long division requires quick recall of multiplication facts. Students who struggle with multiplication will find division extremely difficult. Ensure times tables are solid before starting long division.</li>
      <li><strong>Use the mnemonic DMSB.</strong> "Does McDonald's Sell Burgers?" helps students remember the four steps: Divide, Multiply, Subtract, Bring down. Repeat until done.</li>
      <li><strong>Start without remainders.</strong> The "No Remainders" option lets students learn the process with clean, neat answers. Add remainders only after the steps are automatic.</li>
      <li><strong>Practice estimation with two-digit divisors.</strong> When dividing by a two-digit number, students must estimate how many times the divisor fits. Practice rounding the divisor to the nearest ten to make estimation easier.</li>
      <li><strong>Show all work.</strong> Encourage students to write every step, even when they think they can do it mentally. Writing each multiply and subtract step helps catch errors and builds good habits.</li>
      <li><strong>Check answers with multiplication.</strong> After completing a division problem, students can verify by multiplying the quotient by the divisor and adding the remainder. This should equal the original dividend.</li>
    </ul>

    <h2>How to Use These Worksheets</h2>
    <p>Select the number of problems, division type, and whether to include remainders using the settings above. Click "Generate New" for a fresh worksheet. Each problem is displayed in the standard long division bracket format with space for student work. Use "Print" for a clean page and "Show Answers" to check work or reveal the answer key.</p>

    <h2>Related Worksheets</h2>
    <ul>
      <li><a href="/worksheets/division-worksheets/">Division Worksheets</a> - Basic division facts practice.</li>
      <li><a href="/worksheets/multiplication-worksheets/">Multiplication Worksheets</a> - Times tables and multi-digit multiplication.</li>
      <li><a href="/worksheets/subtraction-worksheets/">Subtraction Worksheets</a> - Multi-digit subtraction with borrowing.</li>
      <li><a href="/worksheets/order-of-operations-worksheets/">Order of Operations Worksheets</a> - PEMDAS practice.</li>
    </ul>
  </article>

  <AdUnit slot="ws-bottom" format="horizontal" />
</BaseLayout>

<script is:inline>
  var problems = [];

  function randInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function generateProblems() {
    var count = parseInt(document.getElementById('cfgProblems').value, 10);
    var type = document.getElementById('cfgType').value;
    var allowRemainder = document.getElementById('cfgRemainder').value === 'yes';

    if (isNaN(count) || count < 4) count = 4;
    if (count > 20) count = 20;

    problems = [];
    for (var i = 0; i < count; i++) {
      var divisor, quotient, dividend, remainder;

      if (type === '2by1') {
        divisor = randInt(2, 9);
        quotient = randInt(10, 99);
      } else if (type === '3by1') {
        divisor = randInt(2, 9);
        quotient = randInt(10, 99);
        // Ensure 3-digit dividend
        var minQ = Math.ceil(100 / divisor);
        var maxQ = Math.floor(999 / divisor);
        quotient = randInt(Math.max(10, minQ), Math.min(maxQ, 999));
      } else if (type === '3by2') {
        divisor = randInt(11, 49);
        var minQ = Math.ceil(100 / divisor);
        var maxQ = Math.floor(999 / divisor);
        if (maxQ < minQ) maxQ = minQ + 5;
        quotient = randInt(Math.max(2, minQ), Math.min(maxQ, 99));
      } else {
        divisor = randInt(11, 49);
        var minQ = Math.ceil(1000 / divisor);
        var maxQ = Math.floor(9999 / divisor);
        if (maxQ < minQ) maxQ = minQ + 5;
        quotient = randInt(Math.max(10, minQ), Math.min(maxQ, 999));
      }

      if (allowRemainder) {
        remainder = randInt(1, divisor - 1);
        dividend = divisor * quotient + remainder;
      } else {
        remainder = 0;
        dividend = divisor * quotient;
      }

      problems.push({
        dividend: dividend,
        divisor: divisor,
        quotient: quotient,
        remainder: remainder
      });
    }

    renderProblems();
    renderAnswerKey();
    updateAnswerVisibility();
  }

  function renderProblems() {
    var grid = document.getElementById('problemGrid');
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var html = '';

    for (var i = 0; i < problems.length; i++) {
      var p = problems[i];
      var dividendStr = String(p.dividend);

      html += '<div class="problem ld-problem">';
      html += '<div class="problem-number">' + (i + 1) + ')</div>';
      html += '<div class="ld-bracket">';

      // Quotient line (shown when answers revealed)
      html += '<div class="ld-quotient">';
      if (showAnswers) {
        var qStr = String(p.quotient);
        // Pad quotient to align with last digits of dividend
        var padLen = dividendStr.length - qStr.length;
        for (var j = 0; j < padLen; j++) html += '<span class="ld-digit">&nbsp;</span>';
        for (var j = 0; j < qStr.length; j++) html += '<span class="ld-digit">' + qStr[j] + '</span>';
        if (p.remainder > 0) html += '<span class="ld-rem"> R' + p.remainder + '</span>';
      } else {
        for (var j = 0; j < dividendStr.length; j++) html += '<span class="ld-digit">&nbsp;</span>';
      }
      html += '</div>';

      // Division bracket with divisor and dividend
      html += '<div class="ld-house">';
      html += '<span class="ld-divisor">' + p.divisor + '</span>';
      html += '<span class="ld-bracket-line"></span>';
      html += '<span class="ld-dividend">';
      for (var j = 0; j < dividendStr.length; j++) {
        html += '<span class="ld-digit">' + dividendStr[j] + '</span>';
      }
      html += '</span>';
      html += '</div>';

      // Work space
      html += '<div class="ld-workspace"></div>';
      html += '</div>';
      html += '</div>';
    }

    grid.innerHTML = html;
  }

  function renderAnswerKey() {
    var answerGrid = document.getElementById('answerGrid');
    var html = '';
    for (var i = 0; i < problems.length; i++) {
      var p = problems[i];
      var ansStr = p.dividend + ' \u00f7 ' + p.divisor + ' = ' + p.quotient;
      if (p.remainder > 0) ansStr += ' R' + p.remainder;
      html += '<div class="answer-item">';
      html += '<span class="q">' + (i + 1) + '.</span>';
      html += '<span class="a">' + ansStr + '</span>';
      html += '</div>';
    }
    answerGrid.innerHTML = html;
  }

  function updateAnswerVisibility() {
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var answerKey = document.getElementById('answerKey');
    if (showAnswers) { answerKey.classList.remove('hidden'); }
    else { answerKey.classList.add('hidden'); }
    renderProblems();
  }

  document.getElementById('btnGenerate').addEventListener('click', generateProblems);
  document.getElementById('btnPrint').addEventListener('click', function () { window.print(); });
  document.getElementById('toggleAnswers').addEventListener('change', updateAnswerVisibility);
  generateProblems();
</script>

<style>
  :global(.ld-grid) {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)) !important;
  }
  :global(.ld-problem) {
    flex-direction: column !important;
    align-items: flex-start !important;
    min-height: 140px;
    padding: 14px !important;
  }
  :global(.ld-bracket) {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    margin-left: 20px;
    font-family: 'Courier New', Courier, monospace;
    font-size: 1.2rem;
  }
  :global(.ld-quotient) {
    display: flex;
    align-items: center;
    min-height: 28px;
    margin-left: 40px;
    padding-bottom: 2px;
  }
  :global(.ld-quotient .ld-digit) {
    color: var(--color-primary);
    font-weight: 700;
  }
  :global(.ld-rem) {
    font-size: 0.85rem;
    color: var(--color-primary);
    font-weight: 600;
    margin-left: 4px;
  }
  :global(.ld-house) {
    display: flex;
    align-items: stretch;
    position: relative;
  }
  :global(.ld-divisor) {
    font-weight: 600;
    padding-right: 4px;
    display: flex;
    align-items: center;
  }
  :global(.ld-bracket-line) {
    width: 2px;
    background: var(--color-text);
    margin-right: 0;
    position: relative;
  }
  :global(.ld-dividend) {
    display: flex;
    border-top: 2px solid var(--color-text);
    padding-left: 4px;
  }
  :global(.ld-digit) {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 28px;
    font-weight: 600;
  }
  :global(.ld-workspace) {
    min-height: 50px;
    margin-left: 40px;
    border-left: 1px dashed var(--color-border);
    width: 120px;
  }
  @media (max-width: 640px) {
    :global(.ld-grid) { grid-template-columns: 1fr !important; }
  }
  @media print {
    :global(.ld-workspace) { min-height: 80px; }
    :global(.ld-quotient .ld-digit) { color: inherit; }
    :global(.ld-rem) { color: inherit; }
  }
</style>
