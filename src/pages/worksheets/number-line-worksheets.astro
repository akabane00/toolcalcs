---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';
import { getWorksheetBySlug } from '../../data/worksheets';
import '../../styles/worksheet.css';

const ws = getWorksheetBySlug('number-line-worksheets')!;

const structuredData = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://toolcalcs.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Worksheets",
      "item": "https://toolcalcs.com/worksheets/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Number Line Worksheets"
    }
  ]
};
---

<BaseLayout
  title="Free Number Line Worksheets - Printable Math Practice | ToolCalcs"
  description={ws.description}
  type="article"
  structuredData={structuredData}
>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo;
    <a href="/worksheets/">Worksheets</a> &rsaquo;
    <span>Number Line Worksheets</span>
  </nav>

  <h1>{ws.title}</h1>
  <p class="page-desc">{ws.description}</p>

  <div class="worksheet-box">
    <div class="config-panel">
      <h3>Settings</h3>
      <div class="config-inputs">
        <div class="config-group">
          <label for="cfgProblems">Number of Problems</label>
          <input type="number" id="cfgProblems" value="8" min="4" max="15" />
        </div>
        <div class="config-group">
          <label for="cfgType">Problem Type</label>
          <select id="cfgType">
            <option value="identify">Identify the Number</option>
            <option value="place">Place the Number</option>
            <option value="addition">Addition on Number Line</option>
            <option value="subtraction">Subtraction on Number Line</option>
          </select>
        </div>
        <div class="config-group">
          <label for="cfgRange">Number Range</label>
          <select id="cfgRange">
            <option value="10">0 to 10</option>
            <option value="20" selected>0 to 20</option>
            <option value="50">0 to 50</option>
            <option value="100">0 to 100</option>
          </select>
        </div>
      </div>
    </div>

    <div class="worksheet-actions">
      <button class="ws-btn primary" id="btnGenerate">Generate New</button>
      <button class="ws-btn print" id="btnPrint">Print</button>
      <label class="toggle-label">
        <input type="checkbox" id="toggleAnswers" />
        Show Answers
      </label>
    </div>

    <div class="worksheet-content" id="worksheetContent">
      <div class="worksheet-header-print">
        <h2>Number Line Practice</h2>
        <div class="name-date">
          <span>Name: ___________________</span>
          <span>Date: ___________________</span>
        </div>
      </div>
      <div id="problemGrid"></div>
      <div class="answer-key hidden" id="answerKey">
        <h3>Answer Key</h3>
        <div class="answer-grid" id="answerGrid"></div>
      </div>
    </div>
  </div>

  <AdUnit slot="ws-mid" format="rectangle" />

  <article class="content-section">
    <h2>What Is a Number Line?</h2>
    <p>A number line is a straight line with numbers placed at equal intervals along its length. It is one of the most powerful visual tools in mathematics education. Number lines help students understand number order, magnitude, counting, addition, subtraction, and even negative numbers and fractions in later grades. By seeing numbers arranged spatially, students develop a mental model of the number system that supports estimation, comparison, and arithmetic.</p>
    <p>These free printable number line worksheets offer four types of practice: identifying marked numbers, placing numbers on a line, and visualizing addition and subtraction using number line jumps. Every worksheet is randomly generated for unlimited practice.</p>

    <h2>Types of Number Line Problems</h2>
    <h3>Identify the Number</h3>
    <p>A number line is shown with an arrow or dot pointing to a specific position. Students must determine what number the arrow indicates by reading the scale and counting the tick marks. This builds the foundational skill of reading and interpreting number lines.</p>

    <h3>Place the Number</h3>
    <p>Students are given a number and must identify where it belongs on the number line. This reverses the identification skill and tests whether students truly understand the relationship between numbers and their positions on the line.</p>

    <h3>Addition on Number Line</h3>
    <p>Students use the number line to solve addition problems by starting at the first number and jumping forward by the amount of the second number. For example, 5 + 3: start at 5, jump forward 3, land on 8. This visual model makes the concept of addition concrete and prepares students for mental math strategies.</p>

    <h3>Subtraction on Number Line</h3>
    <p>Students solve subtraction problems by starting at the first number and jumping backward. For example, 9 - 4: start at 9, jump back 4, land on 5. This shows subtraction as movement in the opposite direction from addition and builds understanding of the relationship between the two operations.</p>

    <h2>Grade-Level Guide</h2>
    <h3>First Grade (Ages 6-7)</h3>
    <p>First graders use number lines from 0 to 10 or 0 to 20. They practice counting, identifying numbers, and basic addition and subtraction. Use the "0 to 10" or "0 to 20" range with the "Identify" or "Addition" type. Number lines at this level have every number labeled, making it easy for students to count tick marks.</p>

    <h3>Second Grade (Ages 7-8)</h3>
    <p>Second graders work with number lines up to 50 or 100. They practice placing numbers and performing two-digit addition and subtraction. Use the "0 to 50" range. At this level, not every tick mark may be labeled, requiring students to count intervals and understand the spacing between labeled numbers.</p>

    <h3>Third Grade (Ages 8-9)</h3>
    <p>Third graders use number lines up to 100 and beyond. They work with number lines that have larger intervals between labeled numbers, requiring estimation and proportional reasoning. Use the "0 to 100" range for appropriate challenge. Students at this level should be comfortable identifying numbers between labeled tick marks.</p>

    <h2>Tips for Teaching with Number Lines</h2>
    <ul>
      <li><strong>Start with a floor number line.</strong> Create a large number line on the floor using tape. Have students physically walk along it to "add" (walk forward) or "subtract" (walk backward). This kinesthetic experience makes the abstract concept concrete.</li>
      <li><strong>Practice counting tick marks.</strong> Before using number lines for arithmetic, ensure students can accurately read the scale. If the line shows 0, 5, 10, 15, 20, students need to understand that each small tick mark between represents 1.</li>
      <li><strong>Connect to mental math.</strong> Number lines model the "counting on" and "counting back" strategies that are fundamental to mental arithmetic. Show students how to start at one number and count forward or backward to find the answer.</li>
      <li><strong>Use blank number lines.</strong> As students gain confidence, use number lines with fewer labeled points. This encourages estimation and deeper number sense rather than rote counting.</li>
      <li><strong>Show jumps visually.</strong> When modeling addition and subtraction, draw arched arrows (jumps) above the number line to show the movement. This makes the operation visual and helps students understand what is happening.</li>
    </ul>

    <h2>How to Use These Worksheets</h2>
    <p>Select the number of problems, problem type, and number range using the settings above. Click "Generate New" for a fresh worksheet. Each problem includes an SVG number line with tick marks and labels. Use "Print" for a clean page and "Show Answers" to reveal the solutions.</p>

    <h2>Related Worksheets</h2>
    <ul>
      <li><a href="/worksheets/addition-worksheets/">Addition Worksheets</a> - Practice addition facts and multi-digit addition.</li>
      <li><a href="/worksheets/subtraction-worksheets/">Subtraction Worksheets</a> - Practice subtraction facts.</li>
      <li><a href="/worksheets/comparing-numbers-worksheets/">Comparing Numbers Worksheets</a> - Practice using &gt;, &lt;, and = symbols.</li>
      <li><a href="/worksheets/skip-counting/">Skip Counting Worksheets</a> - Count by 2s, 5s, 10s, and more.</li>
    </ul>
  </article>

  <AdUnit slot="ws-bottom" format="horizontal" />
</BaseLayout>

<script is:inline>
  var problems = [];

  function randInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function getTickInterval(range) {
    if (range <= 10) return 1;
    if (range <= 20) return 1;
    if (range <= 50) return 5;
    return 10;
  }

  function getLabelInterval(range) {
    if (range <= 10) return 1;
    if (range <= 20) return 2;
    if (range <= 50) return 5;
    return 10;
  }

  function drawNumberLine(rangeMax, target, type, showAnswer, addend) {
    var W = 500, H = 90;
    var pad = 30;
    var lineY = 50;
    var tickInterval = getTickInterval(rangeMax);
    var labelInterval = getLabelInterval(rangeMax);
    var numTicks = rangeMax / tickInterval;

    var svg = '<svg viewBox="0 0 ' + W + ' ' + H + '" class="nl-svg">';

    // Main line
    svg += '<line x1="' + pad + '" y1="' + lineY + '" x2="' + (W - pad) + '" y2="' + lineY + '" stroke="#334155" stroke-width="2"/>';

    // Arrow tips
    svg += '<polygon points="' + (W - pad) + ',' + lineY + ' ' + (W - pad - 8) + ',' + (lineY - 5) + ' ' + (W - pad - 8) + ',' + (lineY + 5) + '" fill="#334155"/>';

    var usableW = W - 2 * pad;

    // Ticks and labels
    for (var i = 0; i <= numTicks; i++) {
      var val = i * tickInterval;
      var x = pad + (val / rangeMax) * usableW;
      var isLabel = val % labelInterval === 0;
      var tickH = isLabel ? 10 : 5;

      svg += '<line x1="' + x.toFixed(1) + '" y1="' + (lineY - tickH) + '" x2="' + x.toFixed(1) + '" y2="' + (lineY + tickH) + '" stroke="#334155" stroke-width="1.5"/>';

      if (isLabel) {
        svg += '<text x="' + x.toFixed(1) + '" y="' + (lineY + 24) + '" text-anchor="middle" font-size="11" fill="#334155" font-weight="500">' + val + '</text>';
      }
    }

    // Target marker
    var tx = pad + (target / rangeMax) * usableW;

    if (type === 'identify') {
      // Arrow pointing down to position
      svg += '<polygon points="' + tx.toFixed(1) + ',' + (lineY - 12) + ' ' + (tx - 5).toFixed(1) + ',' + (lineY - 22) + ' ' + (tx + 5).toFixed(1) + ',' + (lineY - 22) + '" fill="#2563eb"/>';
      if (showAnswer) {
        svg += '<text x="' + tx.toFixed(1) + '" y="' + (lineY - 26) + '" text-anchor="middle" font-size="12" fill="#2563eb" font-weight="700">' + target + '</text>';
      } else {
        svg += '<text x="' + tx.toFixed(1) + '" y="' + (lineY - 26) + '" text-anchor="middle" font-size="12" fill="#2563eb" font-weight="700">?</text>';
      }
    } else if (type === 'place') {
      // Show the number to place, with a "?" on the line
      if (showAnswer) {
        svg += '<circle cx="' + tx.toFixed(1) + '" cy="' + lineY + '" r="5" fill="#2563eb"/>';
        svg += '<text x="' + tx.toFixed(1) + '" y="' + (lineY - 14) + '" text-anchor="middle" font-size="12" fill="#2563eb" font-weight="700">' + target + '</text>';
      }
    } else {
      // Addition/subtraction with jumps
      var start, end;
      if (type === 'addition') {
        start = target;
        end = target + addend;
      } else {
        start = target;
        end = target - addend;
      }

      var sx = pad + (start / rangeMax) * usableW;
      var ex = pad + (end / rangeMax) * usableW;

      // Starting dot
      svg += '<circle cx="' + sx.toFixed(1) + '" cy="' + lineY + '" r="4" fill="#334155"/>';
      svg += '<text x="' + sx.toFixed(1) + '" y="' + (lineY - 14) + '" text-anchor="middle" font-size="11" fill="#334155" font-weight="600">' + start + '</text>';

      // Jump arc
      var midX = (sx + ex) / 2;
      var arcY = lineY - 28;
      svg += '<path d="M ' + sx.toFixed(1) + ' ' + (lineY - 6) + ' Q ' + midX.toFixed(1) + ' ' + arcY + ' ' + ex.toFixed(1) + ' ' + (lineY - 6) + '" fill="none" stroke="#2563eb" stroke-width="1.5" stroke-dasharray="4,3"/>';

      // Jump label
      var jumpLabel = type === 'addition' ? '+' + addend : '-' + addend;
      svg += '<text x="' + midX.toFixed(1) + '" y="' + (arcY - 2) + '" text-anchor="middle" font-size="10" fill="#2563eb" font-weight="600">' + jumpLabel + '</text>';

      // End dot
      if (showAnswer) {
        svg += '<circle cx="' + ex.toFixed(1) + '" cy="' + lineY + '" r="4" fill="#2563eb"/>';
        svg += '<text x="' + ex.toFixed(1) + '" y="' + (lineY + 36) + '" text-anchor="middle" font-size="12" fill="#2563eb" font-weight="700">' + end + '</text>';
      } else {
        svg += '<circle cx="' + ex.toFixed(1) + '" cy="' + lineY + '" r="4" fill="#2563eb" fill-opacity="0.3"/>';
        svg += '<text x="' + ex.toFixed(1) + '" y="' + (lineY + 36) + '" text-anchor="middle" font-size="12" fill="#2563eb" font-weight="700">?</text>';
      }
    }

    svg += '</svg>';
    return svg;
  }

  function generateProblems() {
    var count = parseInt(document.getElementById('cfgProblems').value, 10);
    var type = document.getElementById('cfgType').value;
    var rangeMax = parseInt(document.getElementById('cfgRange').value, 10);

    if (isNaN(count) || count < 4) count = 4;
    if (count > 15) count = 15;

    problems = [];
    for (var i = 0; i < count; i++) {
      var prob = { type: type, range: rangeMax };

      if (type === 'identify' || type === 'place') {
        prob.target = randInt(1, rangeMax - 1);
        prob.answer = prob.target;
      } else if (type === 'addition') {
        var addend = randInt(1, Math.min(rangeMax / 2, 10));
        var start = randInt(0, rangeMax - addend);
        prob.target = start;
        prob.addend = addend;
        prob.answer = start + addend;
      } else {
        var addend = randInt(1, Math.min(rangeMax / 2, 10));
        var start = randInt(addend, rangeMax);
        prob.target = start;
        prob.addend = addend;
        prob.answer = start - addend;
      }

      problems.push(prob);
    }

    renderProblems();
    renderAnswerKey();
    updateAnswerVisibility();
  }

  function renderProblems() {
    var grid = document.getElementById('problemGrid');
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var html = '';

    for (var i = 0; i < problems.length; i++) {
      var p = problems[i];
      html += '<div class="nl-problem">';
      html += '<div class="problem-number">' + (i + 1) + ')</div>';

      if (p.type === 'identify') {
        html += '<p class="nl-question">What number does the arrow point to?</p>';
      } else if (p.type === 'place') {
        html += '<p class="nl-question">Mark <strong>' + p.target + '</strong> on the number line.</p>';
      } else if (p.type === 'addition') {
        html += '<p class="nl-question">' + p.target + ' + ' + p.addend + ' = ?</p>';
      } else {
        html += '<p class="nl-question">' + p.target + ' - ' + p.addend + ' = ?</p>';
      }

      html += drawNumberLine(p.range, p.target, p.type, showAnswers, p.addend);

      if ((p.type === 'identify' || p.type === 'addition' || p.type === 'subtraction') && !showAnswers) {
        html += '<div class="nl-answer-line">Answer: ___________</div>';
      } else if (showAnswers && (p.type === 'identify' || p.type === 'addition' || p.type === 'subtraction')) {
        html += '<div class="nl-answer-line nl-revealed">Answer: <strong>' + p.answer + '</strong></div>';
      }

      html += '</div>';
    }

    grid.innerHTML = html;
  }

  function renderAnswerKey() {
    var answerGrid = document.getElementById('answerGrid');
    var html = '';
    for (var i = 0; i < problems.length; i++) {
      html += '<div class="answer-item">';
      html += '<span class="q">' + (i + 1) + '.</span>';
      html += '<span class="a">' + problems[i].answer + '</span>';
      html += '</div>';
    }
    answerGrid.innerHTML = html;
  }

  function updateAnswerVisibility() {
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var answerKey = document.getElementById('answerKey');
    if (showAnswers) { answerKey.classList.remove('hidden'); }
    else { answerKey.classList.add('hidden'); }
    renderProblems();
  }

  document.getElementById('btnGenerate').addEventListener('click', generateProblems);
  document.getElementById('btnPrint').addEventListener('click', function () { window.print(); });
  document.getElementById('toggleAnswers').addEventListener('change', updateAnswerVisibility);
  generateProblems();
</script>

<style>
  :global(.nl-problem) {
    padding: 14px 0;
    border-bottom: 1px solid var(--color-border);
  }
  :global(.nl-problem .problem-number) {
    font-weight: 600;
    color: var(--color-text-muted);
    margin-bottom: 4px;
  }
  :global(.nl-question) {
    font-size: 0.95rem;
    margin-bottom: 8px;
  }
  :global(.nl-svg) {
    width: 100%;
    max-width: 540px;
    height: auto;
    display: block;
    margin: 0 auto;
  }
  :global(.nl-answer-line) {
    font-size: 0.9rem;
    margin-top: 6px;
    color: var(--color-text-muted);
  }
  :global(.nl-revealed) {
    color: var(--color-primary);
  }
  @media print {
    :global(.nl-svg text[fill="#2563eb"]) { fill: #333 !important; }
    :global(.nl-svg [fill="#2563eb"]) { fill: #555 !important; }
    :global(.nl-svg [stroke="#2563eb"]) { stroke: #555 !important; }
  }
</style>
