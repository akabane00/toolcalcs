---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';
import { getWorksheetBySlug } from '../../data/worksheets';
import '../../styles/worksheet.css';

const ws = getWorksheetBySlug('place-value-worksheets')!;

const structuredData = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://toolcalcs.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Worksheets",
      "item": "https://toolcalcs.com/worksheets/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Place Value Worksheets"
    }
  ]
};
---

<BaseLayout
  title="Free Place Value Worksheets - Printable Math Practice | ToolCalcs"
  description={ws.description}
  type="article"
  structuredData={structuredData}
>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo;
    <a href="/worksheets/">Worksheets</a> &rsaquo;
    <span>Place Value Worksheets</span>
  </nav>

  <h1>{ws.title}</h1>
  <p class="page-desc">{ws.description}</p>

  <div class="worksheet-box">
    <div class="config-panel">
      <h3>Settings</h3>
      <div class="config-inputs">
        <div class="config-group">
          <label for="cfgProblems">Number of Problems</label>
          <input type="number" id="cfgProblems" value="15" min="5" max="30" />
        </div>
        <div class="config-group">
          <label for="cfgType">Problem Type</label>
          <select id="cfgType">
            <option value="identify">Identify Digit Value</option>
            <option value="expanded">Expanded Form</option>
            <option value="standard">Standard Form</option>
            <option value="compose">Write the Number</option>
          </select>
        </div>
        <div class="config-group">
          <label for="cfgMaxDigits">Max Digits</label>
          <select id="cfgMaxDigits">
            <option value="2">2 Digits (10-99)</option>
            <option value="3" selected>3 Digits (100-999)</option>
            <option value="4">4 Digits (1,000-9,999)</option>
            <option value="5">5 Digits (10,000-99,999)</option>
          </select>
        </div>
      </div>
    </div>

    <div class="worksheet-actions">
      <button class="ws-btn primary" id="btnGenerate">Generate New</button>
      <button class="ws-btn print" id="btnPrint">Print</button>
      <label class="toggle-label">
        <input type="checkbox" id="toggleAnswers" />
        Show Answers
      </label>
    </div>

    <div class="worksheet-content" id="worksheetContent">
      <div class="worksheet-header-print">
        <h2>Place Value Practice</h2>
        <div class="name-date">
          <span>Name: ___________________</span>
          <span>Date: ___________________</span>
        </div>
      </div>
      <div class="problem-grid" id="problemGrid"></div>
      <div class="answer-key hidden" id="answerKey">
        <h3>Answer Key</h3>
        <div class="answer-grid" id="answerGrid"></div>
      </div>
    </div>
  </div>

  <AdUnit slot="ws-mid" format="rectangle" />

  <article class="content-section">
    <h2>What Is Place Value?</h2>
    <p>Place value is the foundation of our number system. It tells us the value of each digit in a number based on its position. In the number 4,527, the digit 4 is in the thousands place and represents 4,000, the digit 5 is in the hundreds place and represents 500, the digit 2 is in the tens place and represents 20, and the digit 7 is in the ones place and represents 7. Understanding place value is essential for reading, writing, comparing, and rounding numbers, and it forms the basis for all multi-digit arithmetic.</p>
    <p>These free printable place value worksheets help students practice identifying the value of digits, writing numbers in expanded form and standard form, and composing numbers from word descriptions. Each worksheet is randomly generated, so you always have fresh practice material available.</p>

    <h2>Grade-Level Guide for Place Value</h2>
    <h3>First Grade (Ages 6-7)</h3>
    <p>First graders work with two-digit numbers (10-99). They learn that a two-digit number is composed of tens and ones. For example, the number 34 has 3 tens and 4 ones. Select the 2-digit setting and use the "Identify Digit Value" type to build this foundational understanding. Keep the problem count around 10-12 for younger learners.</p>

    <h3>Second Grade (Ages 7-8)</h3>
    <p>Second graders extend place value understanding to three-digit numbers (100-999). They learn about the hundreds place and practice reading, writing, and representing numbers in expanded form. Use the 3-digit setting and try the "Expanded Form" type to help students decompose numbers like 456 into 400 + 50 + 6. The "Standard Form" type works well for practice converting expanded notation back to standard numbers.</p>

    <h3>Third Grade (Ages 8-9)</h3>
    <p>Third graders work with four-digit numbers (1,000-9,999). They develop fluency with the thousands place and begin understanding the pattern of place value: each position is ten times the value of the position to its right. Use the 4-digit setting and mix between all problem types to provide comprehensive practice.</p>

    <h3>Fourth Grade (Ages 9-10)</h3>
    <p>Fourth graders extend to five-digit numbers and beyond. They work with ten-thousands and develop a deeper understanding of our base-ten number system. The "Write the Number" type challenges students to compose numbers from word descriptions, strengthening the connection between verbal and numerical representations.</p>

    <h2>Types of Place Value Problems</h2>
    <h3>Identify Digit Value</h3>
    <p>Students are given a number and asked to identify the value of a specific underlined or highlighted digit. For example: "What is the value of the 5 in 3,572?" The answer is 500. This type builds the core understanding that a digit's value depends on its position in the number.</p>

    <h3>Expanded Form</h3>
    <p>Students write a number as the sum of each digit multiplied by its place value. For example: 4,527 = 4,000 + 500 + 20 + 7. This representation helps students see the individual components that make up a multi-digit number and reinforces the concept that our number system is based on groups of tens.</p>

    <h3>Standard Form</h3>
    <p>The reverse of expanded form: students are given an expanded notation and must write the number in standard form. For example: 3,000 + 200 + 40 + 1 = 3,241. This type tests whether students can combine place value components back into a single number.</p>

    <h3>Write the Number</h3>
    <p>Students read a word description and write the corresponding number. For example: "three thousand five hundred twenty-eight" = 3,528. This type connects language skills with mathematical understanding and is particularly useful for standardized test preparation.</p>

    <h2>Tips for Teaching Place Value</h2>
    <ul>
      <li><strong>Use manipulatives.</strong> Base-ten blocks, bundling sticks, and place value charts make abstract concepts concrete. Have students build numbers physically before working on paper.</li>
      <li><strong>Start with smaller numbers.</strong> Begin with 2-digit numbers where students can easily count the tens and ones before moving to larger numbers.</li>
      <li><strong>Connect to real life.</strong> Use money (dollars and cents), addresses, and page numbers to show place value in everyday contexts.</li>
      <li><strong>Practice number talks.</strong> Ask students to describe numbers in different ways: "What are three different ways to represent 356?"</li>
      <li><strong>Use expanded form as a bridge.</strong> Expanded form helps students understand regrouping in addition and subtraction by making the individual place values visible.</li>
      <li><strong>Vary the practice.</strong> Alternate between problem types to build flexibility. A student who can only identify digit values but cannot write expanded form may have gaps in understanding.</li>
    </ul>

    <h2>How to Use These Place Value Worksheets</h2>
    <p>Select the number of problems, problem type, and maximum number of digits using the settings above. Click "Generate New" to create a fresh worksheet. Use the "Print" button for a clean, printer-friendly page. Toggle "Show Answers" to check work or use the answer key for grading. Each click of "Generate New" produces completely new problems, giving you an unlimited supply of practice material.</p>

    <h2>Related Worksheets</h2>
    <ul>
      <li><a href="/worksheets/rounding-worksheets/">Rounding Worksheets</a> - Practice rounding to the nearest 10, 100, and 1,000.</li>
      <li><a href="/worksheets/comparing-numbers-worksheets/">Comparing Numbers Worksheets</a> - Practice using greater than, less than, and equal signs.</li>
      <li><a href="/worksheets/addition-worksheets/">Addition Worksheets</a> - Practice multi-digit addition with regrouping.</li>
      <li><a href="/worksheets/even-and-odd-worksheets/">Even & Odd Worksheets</a> - Identify even and odd numbers.</li>
    </ul>
  </article>

  <AdUnit slot="ws-bottom" format="horizontal" />
</BaseLayout>

<script is:inline>
  var problems = [];
  var PLACE_NAMES = ['ones', 'tens', 'hundreds', 'thousands', 'ten-thousands'];
  var PLACE_VALUES = [1, 10, 100, 1000, 10000];
  var WORD_ONES = ['zero','one','two','three','four','five','six','seven','eight','nine'];
  var WORD_TEENS = ['ten','eleven','twelve','thirteen','fourteen','fifteen','sixteen','seventeen','eighteen','nineteen'];
  var WORD_TENS = ['','','twenty','thirty','forty','fifty','sixty','seventy','eighty','ninety'];

  function randInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function getRange(maxDigits) {
    var d = parseInt(maxDigits, 10);
    return { min: Math.pow(10, d - 1), max: Math.pow(10, d) - 1 };
  }

  function formatNumber(n) {
    return n.toLocaleString('en-US');
  }

  function expandedForm(n) {
    var parts = [];
    var s = String(n);
    for (var i = 0; i < s.length; i++) {
      var digit = parseInt(s[i], 10);
      if (digit > 0) {
        var placeVal = Math.pow(10, s.length - 1 - i);
        parts.push(formatNumber(digit * placeVal));
      }
    }
    return parts.join(' + ');
  }

  function numberToWords(n) {
    if (n === 0) return 'zero';
    var result = '';
    if (n >= 10000) {
      var tt = Math.floor(n / 10000);
      result += WORD_ONES[tt] + ' ten-thousand';
      if (tt > 1) result = WORD_ONES[tt] + ' ten-thousands';
      result = WORD_ONES[tt] + ' ten-thousand';
      n %= 10000;
      if (n > 0) result += ' ';
    }
    if (n >= 1000) {
      var th = Math.floor(n / 1000);
      result += WORD_ONES[th] + ' thousand';
      n %= 1000;
      if (n > 0) result += ' ';
    }
    if (n >= 100) {
      var h = Math.floor(n / 100);
      result += WORD_ONES[h] + ' hundred';
      n %= 100;
      if (n > 0) result += ' ';
    }
    if (n >= 20) {
      result += WORD_TENS[Math.floor(n / 10)];
      n %= 10;
      if (n > 0) result += '-';
    }
    if (n >= 10) {
      result += WORD_TEENS[n - 10];
      n = 0;
    }
    if (n > 0) {
      result += WORD_ONES[n];
    }
    return result;
  }

  function generateProblems() {
    var count = parseInt(document.getElementById('cfgProblems').value, 10);
    var type = document.getElementById('cfgType').value;
    var maxDigits = document.getElementById('cfgMaxDigits').value;
    var range = getRange(maxDigits);

    if (isNaN(count) || count < 5) count = 5;
    if (count > 30) count = 30;

    problems = [];
    for (var i = 0; i < count; i++) {
      var num = randInt(range.min, range.max);
      var prob = { number: num, type: type };

      if (type === 'identify') {
        var s = String(num);
        var pos = randInt(0, s.length - 1);
        var digit = parseInt(s[pos], 10);
        var placeIdx = s.length - 1 - pos;
        prob.questionDigit = digit;
        prob.placeIndex = placeIdx;
        prob.placeName = PLACE_NAMES[placeIdx];
        prob.answer = String(digit * PLACE_VALUES[placeIdx]);
        prob.displayAnswer = formatNumber(digit * PLACE_VALUES[placeIdx]);
      } else if (type === 'expanded') {
        prob.answer = expandedForm(num);
        prob.displayAnswer = expandedForm(num);
      } else if (type === 'standard') {
        prob.expanded = expandedForm(num);
        prob.answer = String(num);
        prob.displayAnswer = formatNumber(num);
      } else {
        prob.words = numberToWords(num);
        prob.answer = String(num);
        prob.displayAnswer = formatNumber(num);
      }

      problems.push(prob);
    }

    renderProblems();
    renderAnswerKey();
    updateAnswerVisibility();
  }

  function highlightDigit(num, placeIdx) {
    var s = String(num);
    var pos = s.length - 1 - placeIdx;
    var html = '';
    for (var i = 0; i < s.length; i++) {
      if (i === pos) {
        html += '<span class="highlight-digit">' + s[i] + '</span>';
      } else {
        html += s[i];
      }
    }
    return html;
  }

  function renderProblems() {
    var grid = document.getElementById('problemGrid');
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var html = '';

    for (var i = 0; i < problems.length; i++) {
      var p = problems[i];
      html += '<div class="problem pv-problem">';
      html += '<div class="problem-number">' + (i + 1) + ')</div>';
      html += '<div class="problem-text">';

      if (p.type === 'identify') {
        html += 'What is the value of the <strong>' + p.questionDigit + '</strong> in ' + highlightDigit(p.number, p.placeIndex) + '?';
      } else if (p.type === 'expanded') {
        html += 'Write ' + formatNumber(p.number) + ' in expanded form.';
      } else if (p.type === 'standard') {
        html += 'Write in standard form: ' + p.expanded;
      } else {
        html += 'Write the number: ' + p.words;
      }

      html += '</div>';
      html += '<div class="problem-answer' + (showAnswers ? ' revealed' : '') + '">';
      html += showAnswers ? p.displayAnswer : '_______________';
      html += '</div>';
      html += '</div>';
    }

    grid.innerHTML = html;
  }

  function renderAnswerKey() {
    var answerGrid = document.getElementById('answerGrid');
    var html = '';
    for (var i = 0; i < problems.length; i++) {
      html += '<div class="answer-item">';
      html += '<span class="q">' + (i + 1) + '.</span>';
      html += '<span class="a">' + problems[i].displayAnswer + '</span>';
      html += '</div>';
    }
    answerGrid.innerHTML = html;
  }

  function updateAnswerVisibility() {
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var answerKey = document.getElementById('answerKey');
    if (showAnswers) { answerKey.classList.remove('hidden'); }
    else { answerKey.classList.add('hidden'); }
    renderProblems();
  }

  document.getElementById('btnGenerate').addEventListener('click', generateProblems);
  document.getElementById('btnPrint').addEventListener('click', function () { window.print(); });
  document.getElementById('toggleAnswers').addEventListener('change', updateAnswerVisibility);
  generateProblems();
</script>

<style>
  :global(.pv-problem) {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 6px;
  }
  :global(.pv-problem .problem-text) {
    font-size: 1rem;
    line-height: 1.5;
  }
  :global(.pv-problem .problem-answer) {
    font-weight: 600;
    min-height: 28px;
  }
  :global(.highlight-digit) {
    color: var(--color-primary);
    font-weight: 700;
    text-decoration: underline;
    font-size: 1.1em;
  }
</style>
