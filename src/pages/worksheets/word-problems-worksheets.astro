---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AdUnit from '../../components/AdUnit.astro';
import { getWorksheetBySlug } from '../../data/worksheets';
import '../../styles/worksheet.css';

const ws = getWorksheetBySlug('word-problems-worksheets')!;

const structuredData = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://toolcalcs.com/" },
    { "@type": "ListItem", "position": 2, "name": "Worksheets", "item": "https://toolcalcs.com/worksheets/" },
    { "@type": "ListItem", "position": 3, "name": "Word Problems Worksheets" }
  ]
};
---

<BaseLayout title="Free Word Problems Worksheets - Printable Math Practice | ToolCalcs" description={ws.description} type="article" structuredData={structuredData}>
  <nav class="breadcrumb">
    <a href="/">Home</a> &rsaquo;
    <a href="/worksheets/">Worksheets</a> &rsaquo;
    <span>Word Problems Worksheets</span>
  </nav>

  <h1>{ws.title}</h1>
  <p class="page-desc">{ws.description}</p>

  <div class="worksheet-box">
    <div class="config-panel">
      <h3>Settings</h3>
      <div class="config-inputs">
        <div class="config-group">
          <label for="cfgProblems">Number of Problems</label>
          <input type="number" id="cfgProblems" value="8" min="5" max="15" />
        </div>
        <div class="config-group">
          <label for="cfgOperation">Operation</label>
          <select id="cfgOperation">
            <option value="addition">Addition</option>
            <option value="subtraction">Subtraction</option>
            <option value="multiplication">Multiplication</option>
            <option value="division">Division</option>
            <option value="mixed" selected>Mixed Operations</option>
          </select>
        </div>
        <div class="config-group">
          <label for="cfgGrade">Grade Level</label>
          <select id="cfgGrade">
            <option value="1-2">Grades 1-2 (numbers &lt; 20)</option>
            <option value="3-4" selected>Grades 3-4 (numbers &lt; 100)</option>
            <option value="5-6">Grades 5-6 (larger numbers)</option>
          </select>
        </div>
      </div>
    </div>

    <div class="worksheet-actions">
      <button class="ws-btn primary" id="btnGenerate">Generate New</button>
      <button class="ws-btn print" id="btnPrint">Print</button>
      <label class="toggle-label">
        <input type="checkbox" id="toggleAnswers" />
        Show Answers
      </label>
    </div>

    <div class="worksheet-content" id="worksheetContent">
      <div class="worksheet-header-print">
        <h2>Word Problems Practice</h2>
        <div class="name-date">
          <span>Name: ___________________</span>
          <span>Date: ___________________</span>
        </div>
        <p class="ws-instructions">Show your work and write the answer on the line.</p>
      </div>
      <div class="problem-grid wp-grid" id="problemGrid"></div>
      <div class="answer-key hidden" id="answerKey">
        <h3>Answer Key</h3>
        <div class="answer-grid" id="answerGrid"></div>
      </div>
    </div>
  </div>

  <AdUnit slot="ws-mid" format="rectangle" />

  <article class="content-section">
    <h2>Why Word Problems Matter</h2>
    <p>Word problems are where math meets the real world. Unlike purely numerical exercises, word problems require students to read, comprehend, identify the relevant information, choose the correct operation, set up the equation, and solve it. This multi-step process builds critical thinking, reading comprehension, and mathematical reasoning simultaneously. Students who practice word problems regularly develop the ability to apply math skills to real-life situations.</p>
    <p>These free printable word problems worksheets cover all four basic operations across three grade ranges. Every worksheet is randomly generated from a library of templates, so students always have fresh, unique problems to solve.</p>

    <h2>Problem-Solving Strategies</h2>
    <h3>The CUBES Method</h3>
    <p>CUBES is a popular strategy for tackling word problems:</p>
    <ul>
      <li><strong>C</strong> - Circle the key numbers</li>
      <li><strong>U</strong> - Underline the question</li>
      <li><strong>B</strong> - Box the operation words (total, difference, each, etc.)</li>
      <li><strong>E</strong> - Evaluate and draw a picture</li>
      <li><strong>S</strong> - Solve and check</li>
    </ul>

    <h3>Key Words by Operation</h3>
    <p>While key words alone should not determine the operation, they provide helpful clues:</p>
    <ul>
      <li><strong>Addition:</strong> total, altogether, combined, in all, sum, more than, increased by</li>
      <li><strong>Subtraction:</strong> difference, how many more, how many fewer, left, remaining, decreased by</li>
      <li><strong>Multiplication:</strong> each, every, per, times, groups of, rows of, total (with equal groups)</li>
      <li><strong>Division:</strong> share equally, split, divide, each (when distributing), per (when finding rate)</li>
    </ul>

    <h2>Grade-Level Guide</h2>
    <h3>Grades 1-2 (Ages 6-8)</h3>
    <p>Young students work with single-step problems using numbers under 20. Problems involve simple addition and subtraction scenarios: combining groups, taking away items, comparing quantities. Language is simple and concrete, with familiar contexts like toys, food, and school supplies. Students may use drawings or manipulatives to help solve problems.</p>

    <h3>Grades 3-4 (Ages 8-10)</h3>
    <p>Students solve single-step and simple two-step problems with numbers under 100. All four operations are practiced. Problems become more varied, involving money, time, measurement, and multi-step reasoning. Students should be writing equations to represent the problem before solving.</p>

    <h3>Grades 5-6 (Ages 10-12)</h3>
    <p>Students tackle multi-step problems with larger numbers. Problems may involve multiple operations, fractions, decimals, and percentages. Contexts become more sophisticated, including rates, ratios, and real-world scenarios like shopping, traveling, and cooking. Students should be able to identify unnecessary information and set up multi-step solutions.</p>

    <h2>Tips for Teaching Word Problems</h2>
    <ul>
      <li><strong>Read the problem twice.</strong> First for understanding, second for details. Many errors come from misreading or missing information.</li>
      <li><strong>Draw a picture.</strong> Visual representations help students understand the problem structure. Bar models, number lines, and simple drawings all work.</li>
      <li><strong>Identify what you know and what you need to find.</strong> Before choosing an operation, have students list the given information and the question being asked.</li>
      <li><strong>Check if the answer makes sense.</strong> After solving, ask: "Is this answer reasonable?" An answer of 500 cookies when the problem involves a small bag should trigger re-examination.</li>
      <li><strong>Write a number sentence.</strong> Translating words into an equation is a key skill. Practice this step explicitly before solving.</li>
      <li><strong>Start with easier problems.</strong> Build confidence before increasing difficulty. Success motivates practice.</li>
    </ul>

    <h2>How to Use These Worksheets</h2>
    <p>Select the number of problems, operation, and grade level using the settings above. Click "Generate New" for a fresh worksheet with unique word problems. Each problem is generated from templates with random names, items, and numbers. Use "Print" for a clean page and "Show Answers" to check work.</p>

    <h2>Related Worksheets</h2>
    <ul>
      <li><a href="/worksheets/addition-worksheets/">Addition Worksheets</a> - Build addition fact fluency.</li>
      <li><a href="/worksheets/subtraction-worksheets/">Subtraction Worksheets</a> - Practice subtraction facts.</li>
      <li><a href="/worksheets/multiplication-worksheets/">Multiplication Worksheets</a> - Times tables and multi-digit multiplication.</li>
      <li><a href="/worksheets/division-worksheets/">Division Worksheets</a> - Basic division facts practice.</li>
      <li><a href="/worksheets/measurement-worksheets/">Measurement Worksheets</a> - Unit conversion and measurement word problems.</li>
    </ul>
  </article>

  <AdUnit slot="ws-bottom" format="horizontal" />
</BaseLayout>

<script is:inline>
  var problems = [];

  function randInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  var NAMES = ['Emma', 'Liam', 'Olivia', 'Noah', 'Ava', 'James', 'Sophia', 'Mason', 'Isabella', 'Lucas', 'Mia', 'Ethan', 'Charlotte', 'Aiden', 'Harper', 'Ben'];
  var ITEMS = ['apples', 'books', 'stickers', 'marbles', 'cookies', 'pencils', 'toys', 'flowers', 'cards', 'shells', 'crayons', 'oranges', 'balloons', 'buttons', 'rocks'];

  function pickName() { return NAMES[randInt(0, NAMES.length - 1)]; }
  function pickItem() { return ITEMS[randInt(0, ITEMS.length - 1)]; }
  function pickName2(n1) { var n; do { n = pickName(); } while (n === n1); return n; }

  function genAdd(grade) {
    var max = grade === '1-2' ? 15 : grade === '3-4' ? 80 : 500;
    var a = randInt(2, max);
    var b = randInt(2, max);
    var name = pickName();
    var item = pickItem();
    var templates = [
      name + ' has ' + a + ' ' + item + '. ' + pickName2(name) + ' gives ' + (grade === '1-2' ? 'him' : name) + ' ' + b + ' more. How many ' + item + ' does ' + name + ' have now?',
      name + ' picked ' + a + ' ' + item + ' on Monday and ' + b + ' ' + item + ' on Tuesday. How many ' + item + ' did ' + name + ' pick in all?',
      'There are ' + a + ' red ' + item + ' and ' + b + ' blue ' + item + '. How many ' + item + ' are there altogether?'
    ];
    return { text: templates[randInt(0, templates.length - 1)], answer: a + b };
  }

  function genSub(grade) {
    var max = grade === '1-2' ? 18 : grade === '3-4' ? 90 : 500;
    var a = randInt(5, max);
    var b = randInt(1, a - 1);
    var name = pickName();
    var item = pickItem();
    var templates = [
      name + ' has ' + a + ' ' + item + '. ' + (grade === '1-2' ? 'She' : name) + ' gives ' + b + ' to a friend. How many ' + item + ' are left?',
      'There were ' + a + ' ' + item + ' in a bag. ' + name + ' took out ' + b + '. How many ' + item + ' are still in the bag?',
      name + ' had ' + a + ' ' + item + '. ' + b + ' of them broke. How many ' + item + ' does ' + name + ' have now?'
    ];
    return { text: templates[randInt(0, templates.length - 1)], answer: a - b };
  }

  function genMul(grade) {
    var maxA = grade === '1-2' ? 5 : grade === '3-4' ? 12 : 25;
    var maxB = grade === '1-2' ? 5 : grade === '3-4' ? 10 : 15;
    var a = randInt(2, maxA);
    var b = randInt(2, maxB);
    var name = pickName();
    var item = pickItem();
    var templates = [
      'Each box has ' + a + ' ' + item + '. There are ' + b + ' boxes. How many ' + item + ' are there in all?',
      name + ' bought ' + b + ' bags of ' + item + '. Each bag has ' + a + ' ' + item + '. How many ' + item + ' did ' + name + ' buy?',
      'There are ' + b + ' rows of ' + item + ' with ' + a + ' in each row. How many ' + item + ' are there in total?'
    ];
    return { text: templates[randInt(0, templates.length - 1)], answer: a * b };
  }

  function genDiv(grade) {
    var maxDiv = grade === '1-2' ? 5 : grade === '3-4' ? 10 : 15;
    var divisor = randInt(2, maxDiv);
    var quotient = randInt(2, grade === '1-2' ? 5 : grade === '3-4' ? 10 : 20);
    var total = divisor * quotient;
    var name = pickName();
    var item = pickItem();
    var templates = [
      name + ' has ' + total + ' ' + item + ' to share equally among ' + divisor + ' friends. How many ' + item + ' does each friend get?',
      'There are ' + total + ' ' + item + '. They need to be put into groups of ' + divisor + '. How many groups will there be?',
      name + ' baked ' + total + ' ' + item + ' and put them equally into ' + divisor + ' bags. How many ' + item + ' are in each bag?'
    ];
    return { text: templates[randInt(0, templates.length - 1)], answer: quotient };
  }

  function generateProblems() {
    var count = parseInt(document.getElementById('cfgProblems').value, 10);
    var operation = document.getElementById('cfgOperation').value;
    var grade = document.getElementById('cfgGrade').value;

    if (isNaN(count) || count < 5) count = 5;
    if (count > 15) count = 15;

    var generators = {
      addition: genAdd,
      subtraction: genSub,
      multiplication: genMul,
      division: genDiv
    };
    var ops = operation === 'mixed' ? ['addition', 'subtraction', 'multiplication', 'division'] : [operation];

    problems = [];
    for (var i = 0; i < count; i++) {
      var op = ops[randInt(0, ops.length - 1)];
      var p = generators[op](grade);
      p.answerStr = String(p.answer);
      problems.push(p);
    }

    renderProblems();
    renderAnswerKey();
    updateAnswerVisibility();
  }

  function renderProblems() {
    var grid = document.getElementById('problemGrid');
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var html = '';

    for (var i = 0; i < problems.length; i++) {
      var p = problems[i];
      html += '<div class="problem wp-problem">';
      html += '<div class="problem-number">' + (i + 1) + ')</div>';
      html += '<div class="wp-text">' + p.text + '</div>';
      html += '<div class="wp-answer-area">';
      html += '<span class="wp-label">Answer: </span>';
      html += '<span class="problem-answer' + (showAnswers ? ' revealed' : '') + '">';
      html += showAnswers ? p.answerStr : '_______________';
      html += '</span>';
      html += '</div>';
      html += '</div>';
    }

    grid.innerHTML = html;
  }

  function renderAnswerKey() {
    var answerGrid = document.getElementById('answerGrid');
    var html = '';
    for (var i = 0; i < problems.length; i++) {
      html += '<div class="answer-item">';
      html += '<span class="q">' + (i + 1) + '.</span>';
      html += '<span class="a">' + problems[i].answerStr + '</span>';
      html += '</div>';
    }
    answerGrid.innerHTML = html;
  }

  function updateAnswerVisibility() {
    var showAnswers = document.getElementById('toggleAnswers').checked;
    var answerKey = document.getElementById('answerKey');
    if (showAnswers) { answerKey.classList.remove('hidden'); }
    else { answerKey.classList.add('hidden'); }
    renderProblems();
  }

  document.getElementById('btnGenerate').addEventListener('click', generateProblems);
  document.getElementById('btnPrint').addEventListener('click', function () { window.print(); });
  document.getElementById('toggleAnswers').addEventListener('change', updateAnswerVisibility);
  generateProblems();
</script>

<style>
  :global(.wp-grid) {
    grid-template-columns: 1fr !important;
    gap: 0 !important;
  }
  :global(.wp-problem) {
    text-align: left !important;
    padding: 16px !important;
    border-bottom: 1px solid var(--color-border);
    display: block !important;
  }
  :global(.wp-text) {
    font-size: 1rem;
    line-height: 1.8;
    margin-bottom: 12px;
  }
  :global(.wp-answer-area) {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 8px;
  }
  :global(.wp-label) {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-text-muted);
  }
  :global(.ws-instructions) {
    font-size: 0.9rem;
    color: var(--color-text-muted);
    margin-top: 6px;
  }
  @media print {
    :global(.wp-problem) { min-height: 100px; }
  }
</style>
